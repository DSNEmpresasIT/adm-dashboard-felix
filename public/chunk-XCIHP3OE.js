import{a as re,b as fe,c as Ir,d as $o,e as p,f as vc}from"./chunk-VXZPRRN5.js";var Bf=Ir((cT,$f)=>{"use strict";var jf=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};$f.exports=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return jf()}try{return __global__||jf()}finally{delete Object.prototype.__global__}}()});var Uf=Ir((uT,q_)=>{q_.exports={name:"websocket",description:"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",keywords:["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],author:"Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",contributors:["I\xF1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],version:"1.0.34",repository:{type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},homepage:"https://github.com/theturtle32/WebSocket-Node",engines:{node:">=4.0.0"},dependencies:{bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},devDependencies:{"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},config:{verbose:!1},scripts:{test:"tape test/unit/*.js",gulp:"gulp"},main:"index",directories:{lib:"./lib"},browser:"lib/browser.js",license:"Apache-2.0"}});var Gf=Ir((lT,Hf)=>{"use strict";Hf.exports=Uf().version});var qf=Ir((dT,Wf)=>{"use strict";var Rt;if(typeof globalThis=="object")Rt=globalThis;else try{Rt=Bf()}catch{}finally{if(!Rt&&typeof window<"u"&&(Rt=window),!Rt)throw new Error("Could not determine global this")}var ur=Rt.WebSocket||Rt.MozWebSocket,Z_=Gf();function zf(t,e){var n;return e?n=new ur(t,e):n=new ur(t),n}ur&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(t){Object.defineProperty(zf,t,{get:function(){return ur[t]}})});Wf.exports={w3cwebsocket:ur?zf:null,version:Z_}});function _(t){return typeof t=="function"}function Gt(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var xr=Gt(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ht(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var K=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(_(r))try{r()}catch(o){e=o instanceof xr?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Dc(o)}catch(s){e=e??[],s instanceof xr?e=[...e,...s.errors]:e.push(s)}}if(e)throw new xr(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Dc(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ht(n,e)}remove(e){let{_finalizers:n}=this;n&&ht(n,e),e instanceof t&&e._removeParent(this)}};K.EMPTY=(()=>{let t=new K;return t.closed=!0,t})();var Bo=K.EMPTY;function Mr(t){return t instanceof K||t&&"closed"in t&&_(t.remove)&&_(t.add)&&_(t.unsubscribe)}function Dc(t){_(t)?t():t.unsubscribe()}var Ie={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var zt={setTimeout(t,e,...n){let{delegate:r}=zt;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=zt;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Sr(t){zt.setTimeout(()=>{let{onUnhandledError:e}=Ie;if(e)e(t);else throw t})}function In(){}var _c=(()=>Uo("C",void 0,void 0))();function wc(t){return Uo("E",void 0,t)}function bc(t){return Uo("N",t,void 0)}function Uo(t,e,n){return{kind:t,value:e,error:n}}var pt=null;function Wt(t){if(Ie.useDeprecatedSynchronousErrorHandling){let e=!pt;if(e&&(pt={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=pt;if(pt=null,n)throw r}}else t()}function Cc(t){Ie.useDeprecatedSynchronousErrorHandling&&pt&&(pt.errorThrown=!0,pt.error=t)}var gt=class extends K{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Mr(e)&&e.add(this)):this.destination=Ah}static create(e,n,r){return new Ge(e,n,r)}next(e){this.isStopped?Go(bc(e),this):this._next(e)}error(e){this.isStopped?Go(wc(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Go(_c,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Sh=Function.prototype.bind;function Ho(t,e){return Sh.call(t,e)}var zo=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Tr(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Tr(r)}else Tr(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Tr(n)}}},Ge=class extends gt{constructor(e,n,r){super();let i;if(_(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ie.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ho(e.next,o),error:e.error&&Ho(e.error,o),complete:e.complete&&Ho(e.complete,o)}):i=e}this.destination=new zo(i)}};function Tr(t){Ie.useDeprecatedSynchronousErrorHandling?Cc(t):Sr(t)}function Th(t){throw t}function Go(t,e){let{onStoppedNotification:n}=Ie;n&&zt.setTimeout(()=>n(t,e))}var Ah={closed:!0,next:In,error:Th,complete:In};var qt=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function X(t){return t}function Nh(...t){return Wo(t)}function Wo(t){return t.length===0?X:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var T=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Fh(n)?n:new Ge(n,r,i);return Wt(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Ec(r),new r((i,o)=>{let s=new Ge({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[qt](){return this}pipe(...n){return Wo(n)(this)}toPromise(n){return n=Ec(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Ec(t){var e;return(e=t??Ie.Promise)!==null&&e!==void 0?e:Promise}function Oh(t){return t&&_(t.next)&&_(t.error)&&_(t.complete)}function Fh(t){return t&&t instanceof gt||Oh(t)&&Mr(t)}function qo(t){return _(t?.lift)}function w(t){return e=>{if(qo(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function b(t,e,n,r,i){return new Zo(t,e,n,r,i)}var Zo=class extends gt{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Yo(){return w((t,e)=>{let n=null;t._refCount++;let r=b(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ko=class extends T{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,qo(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new K;let n=this.getSubject();e.add(this.source.subscribe(b(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=K.EMPTY)}return e}refCount(){return Yo()(this)}};var Ic=Gt(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var et=(()=>{class t extends T{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ar(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ic}next(n){Wt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Wt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Wt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Bo:(this.currentObservers=null,o.push(n),new K(()=>{this.currentObservers=null,ht(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new T;return n.source=this,n}}return t.create=(e,n)=>new Ar(e,n),t})(),Ar=class extends et{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Bo}};var xn=class extends et{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Jo={now(){return(Jo.delegate||Date).now()},delegate:void 0};var Nr=class extends K{constructor(e,n){super()}schedule(e,n=0){return this}};var Mn={setInterval(t,e,...n){let{delegate:r}=Mn;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Mn;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Or=class extends Nr{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Mn.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Mn.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ht(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Zt=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Zt.now=Jo.now;var Fr=class extends Zt{constructor(e,n=Zt.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var xc=new Fr(Or);var mt=new T(t=>t.complete());function Mc(t){return t&&_(t.schedule)}function Qo(t){return t[t.length-1]}function kr(t){return _(Qo(t))?t.pop():void 0}function ke(t){return Mc(Qo(t))?t.pop():void 0}function Sc(t,e){return typeof Qo(t)=="number"?t.pop():e}function Ac(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function Tc(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yt(t){return this instanceof yt?(this.v=t,this):new yt(t)}function Nc(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(h){r[h]&&(i[h]=function(f){return new Promise(function(g,m){o.push([h,f,g,m])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(g){d(o[0][3],g)}}function c(h){h.value instanceof yt?Promise.resolve(h.value.v).then(u,l):d(o[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Oc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Tc=="function"?Tc(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var Pr=t=>t&&typeof t.length=="number"&&typeof t!="function";function Rr(t){return _(t?.then)}function Lr(t){return _(t[qt])}function Vr(t){return Symbol.asyncIterator&&_(t?.[Symbol.asyncIterator])}function jr(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function kh(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var $r=kh();function Br(t){return _(t?.[$r])}function Ur(t){return Nc(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield yt(n.read());if(i)return yield yt(void 0);yield yield yt(r)}}finally{n.releaseLock()}})}function Hr(t){return _(t?.getReader)}function V(t){if(t instanceof T)return t;if(t!=null){if(Lr(t))return Ph(t);if(Pr(t))return Rh(t);if(Rr(t))return Lh(t);if(Vr(t))return Fc(t);if(Br(t))return Vh(t);if(Hr(t))return jh(t)}throw jr(t)}function Ph(t){return new T(e=>{let n=t[qt]();if(_(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Rh(t){return new T(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Lh(t){return new T(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Sr)})}function Vh(t){return new T(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Fc(t){return new T(e=>{$h(t,e).catch(n=>e.error(n))})}function jh(t){return Fc(Ur(t))}function $h(t,e){var n,r,i,o;return Ac(this,void 0,void 0,function*(){try{for(n=Oc(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function ie(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Gr(t,e=0){return w((n,r)=>{n.subscribe(b(r,i=>ie(r,t,()=>r.next(i),e),()=>ie(r,t,()=>r.complete(),e),i=>ie(r,t,()=>r.error(i),e)))})}function zr(t,e=0){return w((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function kc(t,e){return V(t).pipe(zr(e),Gr(e))}function Pc(t,e){return V(t).pipe(zr(e),Gr(e))}function Rc(t,e){return new T(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Lc(t,e){return new T(n=>{let r;return ie(n,e,()=>{r=t[$r](),ie(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>_(r?.return)&&r.return()})}function Wr(t,e){if(!t)throw new Error("Iterable cannot be null");return new T(n=>{ie(n,e,()=>{let r=t[Symbol.asyncIterator]();ie(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Vc(t,e){return Wr(Ur(t),e)}function jc(t,e){if(t!=null){if(Lr(t))return kc(t,e);if(Pr(t))return Rc(t,e);if(Rr(t))return Pc(t,e);if(Vr(t))return Wr(t,e);if(Br(t))return Lc(t,e);if(Hr(t))return Vc(t,e)}throw jr(t)}function he(t,e){return e?jc(t,e):V(t)}function Xo(...t){let e=ke(t);return he(t,e)}function Bh(t,e){let n=_(t)?t:()=>t,r=i=>i.error(n());return new T(e?i=>e.schedule(r,0,i):r)}function Uh(t){return!!t&&(t instanceof T||_(t.lift)&&_(t.subscribe))}var vt=Gt(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ze(t,e){return w((n,r)=>{let i=0;n.subscribe(b(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Hh}=Array;function Gh(t,e){return Hh(e)?t(...e):t(e)}function qr(t){return ze(e=>Gh(t,e))}var{isArray:zh}=Array,{getPrototypeOf:Wh,prototype:qh,keys:Zh}=Object;function Zr(t){if(t.length===1){let e=t[0];if(zh(e))return{args:e,keys:null};if(Yh(e)){let n=Zh(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Yh(t){return t&&typeof t=="object"&&Wh(t)===qh}function Yr(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Kh(...t){let e=ke(t),n=kr(t),{args:r,keys:i}=Zr(t);if(r.length===0)return he([],e);let o=new T(Jh(r,e,i?s=>Yr(i,s):X));return n?o.pipe(qr(n)):o}function Jh(t,e,n=X){return r=>{$c(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)$c(e,()=>{let u=he(t[c],e),l=!1;u.subscribe(b(r,d=>{o[c]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function $c(t,e,n){t?ie(n,t,e):e()}function Bc(t,e,n,r,i,o,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},f=m=>u<r?g(m):c.push(m),g=m=>{o&&e.next(m),u++;let y=!1;V(n(m,l++)).subscribe(b(e,D=>{i?.(D),o?f(D):e.next(D)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;c.length&&u<r;){let D=c.shift();s?ie(e,s,()=>g(D)):g(D)}h()}catch(D){e.error(D)}}))};return t.subscribe(b(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Dt(t,e,n=1/0){return _(e)?Dt((r,i)=>ze((o,s)=>e(r,o,i,s))(V(t(r,i))),n):(typeof e=="number"&&(n=e),w((r,i)=>Bc(r,i,t,n)))}function Kr(t=1/0){return Dt(X,t)}function Uc(){return Kr(1)}function Jr(...t){return Uc()(he(t,ke(t)))}function Qh(t){return new T(e=>{V(t()).subscribe(e)})}function es(...t){let e=kr(t),{args:n,keys:r}=Zr(t),i=new T(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;V(n[l]).subscribe(b(o,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?Yr(r,a):a),o.complete())}))}});return e?i.pipe(qr(e)):i}function ts(...t){let e=ke(t),n=Sc(t,1/0),r=t;return r.length?r.length===1?V(r[0]):Kr(n)(he(r,e)):mt}function Sn(t,e){return w((n,r)=>{let i=0;n.subscribe(b(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Hc(t){return w((e,n)=>{let r=null,i=!1,o;r=e.subscribe(b(n,void 0,void 0,s=>{o=V(t(s,Hc(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Gc(t,e,n,r,i){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(b(s,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Xh(t,e){return _(e)?Dt(t,e,1):Dt(t,1)}function ep(t,e=xc){return w((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=o;o=null,r.next(u)}};function c(){let u=s+t,l=e.now();if(l<u){i=this.schedule(void 0,u-l),r.add(i);return}a()}n.subscribe(b(r,u=>{o=u,s=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function Tn(t){return w((e,n)=>{let r=!1;e.subscribe(b(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ns(t){return t<=0?()=>mt:w((e,n)=>{let r=0;e.subscribe(b(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function tp(t){return ze(()=>t)}function Qr(t,e=X){return t=t??np,w((n,r)=>{let i,o=!0;n.subscribe(b(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function np(t,e){return t===e}function Xr(t=rp){return w((e,n)=>{let r=!1;e.subscribe(b(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function rp(){return new vt}function ip(t){return w((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function zc(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Sn((i,o)=>t(i,o,r)):X,ns(1),n?Tn(e):Xr(()=>new vt))}function rs(t){return t<=0?()=>mt:w((e,n)=>{let r=[];e.subscribe(b(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function op(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Sn((i,o)=>t(i,o,r)):X,rs(1),n?Tn(e):Xr(()=>new vt))}function sp(t,e){return w(Gc(t,e,arguments.length>=2,!0))}function ei(t={}){let{connector:e=()=>new et,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,u=0,l=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,l=d=!1},g=()=>{let m=s;f(),m?.unsubscribe()};return w((m,y)=>{u++,!d&&!l&&h();let D=c=c??e();y.add(()=>{u--,u===0&&!d&&!l&&(a=is(g,i))}),D.subscribe(y),!s&&u>0&&(s=new Ge({next:U=>D.next(U),error:U=>{d=!0,h(),a=is(f,n,U),D.error(U)},complete:()=>{l=!0,h(),a=is(f,r),D.complete()}}),V(m).subscribe(s))})(o)}}function is(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new Ge({next:()=>{r.unsubscribe(),t()}});return V(e(...n)).subscribe(r)}function ap(...t){let e=ke(t);return w((n,r)=>{(e?Jr(t,n,e):Jr(t,n)).subscribe(r)})}function os(t,e){return w((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(b(r,c=>{i?.unsubscribe();let u=0,l=o++;V(t(c,l)).subscribe(i=b(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function cp(t){return w((e,n)=>{V(t).subscribe(b(n,()=>n.complete(),In)),!n.closed&&e.subscribe(n)})}function up(t,e,n){let r=_(t)||e||n?{next:t,error:e,complete:n}:t;return r?w((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(b(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):X}var Wc=null;var ss=1;function ce(t){let e=Wc;return Wc=t,e}var qc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function lp(t){if(!(us(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ss)){if(!t.producerMustRecompute(t)&&!as(t)){t.dirty=!1,t.lastCleanEpoch=ss;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ss}}function Zc(t){return t&&(t.nextProducerIndex=0),ce(t)}function Yc(t,e){if(ce(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(us(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)cs(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function as(t){ti(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(lp(n),r!==n.version))return!0}return!1}function Kc(t){if(ti(t),us(t))for(let e=0;e<t.producerNode.length;e++)cs(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function cs(t,e){if(dp(t),ti(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)cs(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ti(i),i.producerIndexOfThis[r]=e}}function us(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ti(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function dp(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function fp(){throw new Error}var hp=fp;function Jc(t){hp=t}function k(t){for(let e in t)if(t[e]===k)return e;throw Error("Could not find renamed property on target object.")}function ni(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Q(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Q).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Qc(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var pp=k({__forward_ref__:k});function ye(t){return t.__forward_ref__=ye,t.toString=function(){return Q(this())},t}function ee(t){return Ru(t)?t():t}function Ru(t){return typeof t=="function"&&t.hasOwnProperty(pp)&&t.__forward_ref__===ye}function Lu(t){return t&&!!t.\u0275providers}var Vu="https://g.co/ng/security#xss",x=class extends Error{constructor(e,n){super(ju(e,n)),this.code=e}};function ju(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var gp=k({\u0275cmp:k}),mp=k({\u0275dir:k}),yp=k({\u0275pipe:k}),vp=k({\u0275mod:k}),di=k({\u0275fac:k}),An=k({__NG_ELEMENT_ID__:k}),Xc=k({__NG_ENV_ID__:k});function Fi(t){return typeof t=="string"?t:t==null?"":String(t)}function Dp(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Fi(t)}function _p(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new x(-200,`Circular dependency in DI detected for ${t}${n}`)}function pa(t,e){let n=e?` in ${e}`:"";throw new x(-201,!1)}function wp(t,e){t==null&&bp(e,t,null,"!=")}function bp(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Nt(t){return{providers:t.providers||[],imports:t.imports||[]}}function ki(t){return eu(t,$u)||eu(t,Bu)}function sM(t){return ki(t)!==null}function eu(t,e){return t.hasOwnProperty(e)?t[e]:null}function Cp(t){let e=t&&(t[$u]||t[Bu]);return e||null}function tu(t){return t&&(t.hasOwnProperty(nu)||t.hasOwnProperty(Ep))?t[nu]:null}var $u=k({\u0275prov:k}),nu=k({\u0275inj:k}),Bu=k({ngInjectableDef:k}),Ep=k({ngInjectorDef:k}),M=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(M||{}),xs;function Ip(){return xs}function pe(t){let e=xs;return xs=t,e}function Uu(t,e,n){let r=ki(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&M.Optional)return null;if(e!==void 0)return e;pa(Q(t),"Injector")}var tt=globalThis;var N=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var xp={},Fn=xp,Ms="__NG_DI_FLAG__",fi="ngTempTokenPath",Mp="ngTokenPath",Sp=/\n/gm,Tp="\u0275",ru="__source",Nn;function Yt(t){let e=Nn;return Nn=t,e}function Ap(t,e=M.Default){if(Nn===void 0)throw new x(-203,!1);return Nn===null?Uu(t,void 0,e):Nn.get(t,e&M.Optional?null:void 0,e)}function se(t,e=M.Default){return(Ip()||Ap)(ee(t),e)}function q(t,e=M.Default){return se(t,Pi(e))}function Pi(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ss(t){let e=[];for(let n=0;n<t.length;n++){let r=ee(t[n]);if(Array.isArray(r)){if(r.length===0)throw new x(900,!1);let i,o=M.Default;for(let s=0;s<r.length;s++){let a=r[s],c=Np(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(se(i,o))}else e.push(se(r))}return e}function Hu(t,e){return t[Ms]=e,t.prototype[Ms]=e,t}function Np(t){return t[Ms]}function Op(t,e,n,r){let i=t[fi];throw e[ru]&&i.unshift(e[ru]),t.message=Fp(`
`+t.message,i,n,r),t[Mp]=i,t[fi]=null,t}function Fp(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Tp?t.slice(2):t;let i=Q(e);if(Array.isArray(e))i=e.map(Q).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Q(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Sp,`
  `)}`}function Un(t){return{toString:t}.toString()}var Gu=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Gu||{}),kn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(kn||{}),en={},ge=[];function zu(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Ts(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];Pp(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function kp(t){return t===3||t===4||t===6}function Pp(t){return t.charCodeAt(0)===64}function Pn(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?iu(t,n,i,null,e[++r]):iu(t,n,i,null,null))}}return t}function iu(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Wu="ng-template";function Rp(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if(typeof o=="string"&&i){let s=t[r++];if(n&&o==="class"&&zu(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;r<t.length&&typeof(o=t[r++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function qu(t){return t.type===4&&t.value!==Wu}function Lp(t,e,n){let r=t.type===4&&!n?Wu:t.value;return e===r}function Vp(t,e,n){let r=4,i=t.attrs||[],o=Bp(i),s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!xe(r)&&!xe(c))return!1;if(s&&xe(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!Lp(t,c,n)||c===""&&e.length===1){if(xe(r))return!1;s=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!Rp(t.attrs,u,n)){if(xe(r))return!1;s=!0}continue}let l=r&8?"class":c,d=jp(l,i,qu(t),n);if(d===-1){if(xe(r))return!1;s=!0;continue}if(u!==""){let h;d>o?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&zu(f,u,0)!==-1||r&2&&u!==h){if(xe(r))return!1;s=!0}}}}return xe(r)||s}function xe(t){return(t&1)===0}function jp(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Up(e,t)}function $p(t,e,n=!1){for(let r=0;r<e.length;r++)if(Vp(t,e[r],n))return!0;return!1}function Bp(t){for(let e=0;e<t.length;e++){let n=t[e];if(kp(n))return e}return t.length}function Up(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function ou(t,e){return t?":not("+e.trim()+")":e}function Hp(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!xe(s)&&(e+=ou(o,i),i=""),r=s,o=o||!xe(r);n++}return i!==""&&(e+=ou(o,i)),e}function Gp(t){return t.map(Hp).join(",")}function zp(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!xe(i))break;i=o}r++}return{attrs:e,classes:n}}function aM(t){return Un(()=>{let e=Qu(t),n=fe(re({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Gu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||kn.Emulated,styles:t.styles||ge,_:null,schemas:t.schemas||null,tView:null,id:""});Xu(n);let r=t.dependencies;return n.directiveDefs=au(r,!1),n.pipeDefs=au(r,!0),n.id=Yp(n),n})}function Wp(t){return bt(t)||Yu(t)}function qp(t){return t!==null}function Ot(t){return Un(()=>({type:t.type,bootstrap:t.bootstrap||ge,declarations:t.declarations||ge,imports:t.imports||ge,exports:t.exports||ge,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function su(t,e){if(t==null)return en;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function z(t){return Un(()=>{let e=Qu(t);return Xu(e),e})}function Zu(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function bt(t){return t[gp]||null}function Yu(t){return t[mp]||null}function Ku(t){return t[yp]||null}function Zp(t){let e=bt(t)||Yu(t)||Ku(t);return e!==null?e.standalone:!1}function Ju(t,e){let n=t[vp]||null;if(!n&&e===!0)throw new Error(`Type ${Q(t)} does not have '\u0275mod' property.`);return n}function Qu(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||en,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||ge,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:su(t.inputs,e),outputs:su(t.outputs),debugInfo:null}}function Xu(t){t.features?.forEach(e=>e(t))}function au(t,e){if(!t)return null;let n=e?Ku:Wp;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(qp)}function Yp(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483647+1,"c"+e}var We=0,I=1,C=2,Z=3,Me=4,Ne=5,As=6,Rn=7,Te=8,tn=9,nn=10,Y=11,Ln=12,cu=13,cn=14,Le=15,Ri=16,Kt=17,Vn=18,Li=19,el=20,On=21,ls=22,Ct=23,Ve=25,tl=1,nl=2,Ns=6,Et=7,hi=8,pi=9;var me=11;function nt(t){return Array.isArray(t)&&typeof t[tl]=="object"}function Ae(t){return Array.isArray(t)&&t[tl]===!0}function rl(t){return(t.flags&4)!==0}function Vi(t){return t.componentOffset>-1}function ga(t){return(t.flags&1)===1}function rt(t){return!!t.template}function Kp(t){return(t[C]&512)!==0}function It(t,e){let n=t.hasOwnProperty(di);return n?t[di]:null}var Os=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function st(){return il}function il(t){return t.type.prototype.ngOnChanges&&(t.setInput=Qp),Jp}st.ngInherit=!0;function Jp(){let t=sl(this),e=t?.current;if(e){let n=t.previous;if(n===en)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Qp(t,e,n,r){let i=this.declaredInputs[n],o=sl(t)||Xp(t,{previous:en,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new Os(c&&c.currentValue,e,a===en),t[r]=e}var ol="__ngSimpleChanges__";function sl(t){return t[ol]||null}function Xp(t,e){return t[ol]=e}var uu=null;var Pe=function(t,e,n){uu?.(t,e,n)},al="svg",eg="math";function je(t){for(;Array.isArray(t);)t=t[We];return t}function cl(t,e){return je(e[t])}function ve(t,e){return je(e[t.index])}function ul(t,e){return t.data[e]}function tg(t,e){return t[e]}function at(t,e){let n=e[t];return nt(n)?n:n[We]}function ma(t){return(t[C]&128)===128}function ng(t){return Ae(t[Z])}function gi(t,e){return e==null?null:t[e]}function ll(t){t[Kt]=0}function rg(t){t[C]&1024||(t[C]|=1024,ma(t)&&ji(t))}function ig(t,e){for(;t>0;)e=e[cn],t--;return e}function dl(t){t[C]&9216&&ji(t)}function ji(t){let e=t[Z];for(;e!==null&&!(Ae(e)&&e[Ns]||nt(e)&&e[C]&8192);){if(Ae(e))e[Ns]=!0;else if(e[C]|=8192,!ma(e))break;e=e[Z]}}function og(t,e){if((t[C]&256)===256)throw new x(911,!1);t[On]===null&&(t[On]=[]),t[On].push(e)}var E={lFrame:vl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function sg(){return E.lFrame.elementDepthCount}function ag(){E.lFrame.elementDepthCount++}function cg(){E.lFrame.elementDepthCount--}function fl(){return E.bindingsEnabled}function ug(){return E.skipHydrationRootTNode!==null}function lg(t){return E.skipHydrationRootTNode===t}function dg(){E.skipHydrationRootTNode=null}function j(){return E.lFrame.lView}function ue(){return E.lFrame.tView}function cM(t){return E.lFrame.contextLView=t,t[Te]}function uM(t){return E.lFrame.contextLView=null,t}function De(){let t=hl();for(;t!==null&&t.type===64;)t=t.parent;return t}function hl(){return E.lFrame.currentTNode}function fg(){let t=E.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Hn(t,e){let n=E.lFrame;n.currentTNode=t,n.isParent=e}function pl(){return E.lFrame.isParent}function hg(){E.lFrame.isParent=!1}function pg(){let t=E.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function gg(t){return E.lFrame.bindingIndex=t}function ya(){return E.lFrame.bindingIndex++}function mg(t){let e=E.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function yg(){return E.lFrame.inI18n}function vg(t,e){let n=E.lFrame;n.bindingIndex=n.bindingRootIndex=t,Fs(e)}function Dg(){return E.lFrame.currentDirectiveIndex}function Fs(t){E.lFrame.currentDirectiveIndex=t}function _g(t){let e=E.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function gl(t){E.lFrame.currentQueryIndex=t}function wg(t){let e=t[I];return e.type===2?e.declTNode:e.type===1?t[Ne]:null}function ml(t,e,n){if(n&M.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&M.Host);)if(i=wg(o),i===null||(o=o[cn],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=E.lFrame=yl();return r.currentTNode=e,r.lView=t,!0}function va(t){let e=yl(),n=t[I];E.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function yl(){let t=E.lFrame,e=t===null?null:t.child;return e===null?vl(t):e}function vl(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Dl(){let t=E.lFrame;return E.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var _l=Dl;function Da(){let t=Dl();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function bg(t){return(E.lFrame.contextLView=ig(t,E.lFrame.contextLView))[Te]}function un(){return E.lFrame.selectedIndex}function xt(t){E.lFrame.selectedIndex=t}function _a(){let t=E.lFrame;return ul(t.tView,t.selectedIndex)}function lM(){E.lFrame.currentNamespace=al}function dM(){Cg()}function Cg(){E.lFrame.currentNamespace=null}function Eg(){return E.lFrame.currentNamespace}var wl=!0;function wa(){return wl}function ba(t){wl=t}function Ig(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=il(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Ca(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function si(t,e,n){bl(t,e,3,n)}function ai(t,e,n,r){(t[C]&3)===n&&bl(t,e,n,r)}function ds(t,e){let n=t[C];(n&3)===e&&(n&=16383,n+=1,t[C]=n)}function bl(t,e,n,r){let i=r!==void 0?t[Kt]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Kt]+=65536),(a<o||o==-1)&&(xg(t,n,e,c),t[Kt]=(t[Kt]&4294901760)+c+2),c++}function lu(t,e){Pe(4,t,e);let n=ce(null);try{e.call(t)}finally{ce(n),Pe(5,t,e)}}function xg(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[C]>>14<t[Kt]>>16&&(t[C]&3)===e&&(t[C]+=16384,lu(a,o)):lu(a,o)}var Xt=-1,Mt=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Mg(t){return t instanceof Mt}function Sg(t){return(t.flags&8)!==0}function Tg(t){return(t.flags&16)!==0}function Cl(t){return t!==Xt}function mi(t){let e=t&32767;return t&32767}function Ag(t){return t>>16}function yi(t,e){let n=Ag(t),r=e;for(;n>0;)r=r[cn],n--;return r}var ks=!0;function vi(t){let e=ks;return ks=t,e}var Ng=256,El=Ng-1,Il=5,Og=0,Re={};function Fg(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(An)&&(r=n[An]),r==null&&(r=n[An]=Og++);let i=r&El,o=1<<i;e.data[t+(i>>Il)]|=o}function Di(t,e){let n=xl(t,e);if(n!==-1)return n;let r=e[I];r.firstCreatePass&&(t.injectorIndex=e.length,fs(r.data,t),fs(e,null),fs(r.blueprint,null));let i=Ea(t,e),o=t.injectorIndex;if(Cl(i)){let s=mi(i),a=yi(i,e),c=a[I].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function fs(t,e){t.push(0,0,0,0,0,0,0,0,e)}function xl(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ea(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Nl(i),r===null)return Xt;if(n++,i=i[cn],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Xt}function Ps(t,e,n){Fg(t,e,n)}function Ml(t,e,n){if(n&M.Optional||t!==void 0)return t;pa(e,"NodeInjector")}function Sl(t,e,n,r){if(n&M.Optional&&r===void 0&&(r=null),!(n&(M.Self|M.Host))){let i=t[tn],o=pe(void 0);try{return i?i.get(e,r,n&M.Optional):Uu(e,r,n&M.Optional)}finally{pe(o)}}return Ml(r,e,n)}function Tl(t,e,n,r=M.Default,i){if(t!==null){if(e[C]&2048&&!(r&M.Self)){let s=Vg(t,e,n,r,Re);if(s!==Re)return s}let o=Al(t,e,n,r,Re);if(o!==Re)return o}return Sl(e,n,r,i)}function Al(t,e,n,r,i){let o=Rg(n);if(typeof o=="function"){if(!ml(e,t,r))return r&M.Host?Ml(i,n,r):Sl(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&M.Optional))pa(n);else return s}finally{_l()}}else if(typeof o=="number"){let s=null,a=xl(t,e),c=Xt,u=r&M.Host?e[Le][Ne]:null;for((a===-1||r&M.SkipSelf)&&(c=a===-1?Ea(t,e):e[a+8],c===Xt||!fu(r,!1)?a=-1:(s=e[I],a=mi(c),e=yi(c,e)));a!==-1;){let l=e[I];if(du(o,a,l.data)){let d=kg(a,e,n,s,r,u);if(d!==Re)return d}c=e[a+8],c!==Xt&&fu(r,e[I].data[a+8]===u)&&du(o,a,e)?(s=l,a=mi(c),e=yi(c,e)):a=-1}}return i}function kg(t,e,n,r,i,o){let s=e[I],a=s.data[t+8],c=r==null?Vi(a)&&ks:r!=s&&(a.type&3)!==0,u=i&M.Host&&o===a,l=Pg(a,s,n,c,u);return l!==null?rn(e,s,l,a):Re}function Pg(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,u=t.directiveEnd,l=o>>20,d=r?a:a+l,h=i?a+l:u;for(let f=d;f<h;f++){let g=s[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){let f=s[c];if(f&&rt(f)&&f.type===n)return c}return null}function rn(t,e,n,r){let i=t[n],o=e.data;if(Mg(i)){let s=i;s.resolving&&_p(Dp(o[n]));let a=vi(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?pe(s.injectImpl):null,l=ml(t,r,M.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&Ig(n,o[n],e)}finally{u!==null&&pe(u),vi(a),s.resolving=!1,_l()}}return i}function Rg(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(An)?t[An]:void 0;return typeof e=="number"?e>=0?e&El:Lg:e}function du(t,e,n){let r=1<<t;return!!(n[e+(t>>Il)]&r)}function fu(t,e){return!(t&M.Self)&&!(t&M.Host&&e)}var wt=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Tl(this._tNode,this._lView,e,Pi(r),n)}};function Lg(){return new wt(De(),j())}function Gn(t){return Un(()=>{let e=t.prototype.constructor,n=e[di]||Rs(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[di]||Rs(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Rs(t){return Ru(t)?()=>{let e=Rs(ee(t));return e&&e()}:It(t)}function Vg(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[C]&2048&&!(s[C]&512);){let a=Al(o,s,n,r|M.Self,Re);if(a!==Re)return a;let c=o.parent;if(!c){let u=s[el];if(u){let l=u.get(n,Re,r);if(l!==Re)return l}c=Nl(s),s=s[cn]}o=c}return i}function Nl(t){let e=t[I],n=e.type;return n===2?e.declTNode:n===1?t[Ne]:null}var ri="__parameters__";function jg(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Ol(t,e,n){return Un(()=>{let r=jg(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(ri)?c[ri]:Object.defineProperty(c,ri,{value:[]})[ri];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function $g(t){return typeof t=="function"}function Ia(t,e){t.forEach(n=>Array.isArray(n)?Ia(n,e):e(n))}function Fl(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function _i(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Bg(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function Ug(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Hg(t,e,n){let r=zn(t,e);return r>=0?t[r|1]=n:(r=~r,Ug(t,r,e,n)),r}function hs(t,e){let n=zn(t,e);if(n>=0)return t[n|1]}function zn(t,e){return Gg(t,e,1)}function Gg(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var kl=Hu(Ol("Optional"),8);var Pl=Hu(Ol("SkipSelf"),4);var xa=new N("ENVIRONMENT_INITIALIZER"),Rl=new N("INJECTOR",-1),Ll=new N("INJECTOR_DEF_TYPES"),wi=class{get(e,n=Fn){if(n===Fn){let r=new Error(`NullInjectorError: No provider for ${Q(e)}!`);throw r.name="NullInjectorError",r}return n}};function zg(t){return{\u0275providers:t}}function Wg(...t){return{\u0275providers:Vl(!0,t),\u0275fromNgModule:!0}}function Vl(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Ia(e,s=>{let a=s;Ls(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&jl(i,o),n}function jl(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ma(i,o=>{e(o,r)})}}function Ls(t,e,n,r){if(t=ee(t),!t)return!1;let i=null,o=tu(t),s=!o&&bt(t);if(!o&&!s){let c=t.ngModule;if(o=tu(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Ls(u,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{Ia(o.imports,l=>{Ls(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&jl(u,e)}if(!a){let u=It(i)||(()=>new i);e({provide:i,useFactory:u,deps:ge},i),e({provide:Ll,useValue:i,multi:!0},i),e({provide:xa,useValue:()=>se(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=t;Ma(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Ma(t,e){for(let n of t)Lu(n)&&(n=n.\u0275providers),Array.isArray(n)?Ma(n,e):e(n)}var qg=k({provide:String,useValue:k});function $l(t){return t!==null&&typeof t=="object"&&qg in t}function Zg(t){return!!(t&&t.useExisting)}function Yg(t){return!!(t&&t.useFactory)}function on(t){return typeof t=="function"}function Kg(t){return!!t.useClass}var Bl=new N("Set Injector scope."),ci={},Jg={},ps;function Sa(){return ps===void 0&&(ps=new wi),ps}var it=class{},bi=class extends it{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,js(e,s=>this.processProvider(s)),this.records.set(Rl,Jt(void 0,this)),i.has("environment")&&this.records.set(it,Jt(void 0,this));let o=this.records.get(Bl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ll,ge,M.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Yt(this),r=pe(void 0),i;try{return e()}finally{Yt(n),pe(r)}}get(e,n=Fn,r=M.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Xc))return e[Xc](this);r=Pi(r);let i,o=Yt(this),s=pe(void 0);try{if(!(r&M.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=nm(e)&&ki(e);u&&this.injectableDefInScope(u)?c=Jt(Vs(e),ci):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&M.Self?Sa():this.parent;return n=r&M.Optional&&n===Fn?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[fi]=a[fi]||[]).unshift(Q(e)),o)throw a;return Op(a,e,"R3InjectorError",this.source)}else throw a}finally{pe(s),Yt(o)}}resolveInjectorInitializers(){let e=Yt(this),n=pe(void 0),r;try{let i=this.get(xa,ge,M.Self);for(let o of i)o()}finally{Yt(e),pe(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Q(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){e=ee(e);let n=on(e)?e:ee(e&&e.provide),r=Xg(e);if(!on(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Jt(void 0,ci,!0),i.factory=()=>Ss(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}else{let i=this.records.get(n)}this.records.set(n,r)}hydrate(e,n){return n.value===ci&&(n.value=Jg,n.value=n.factory()),typeof n.value=="object"&&n.value&&tm(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ee(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Vs(t){let e=ki(t),n=e!==null?e.factory:It(t);if(n!==null)return n;if(t instanceof N)throw new x(204,!1);if(t instanceof Function)return Qg(t);throw new x(204,!1)}function Qg(t){let e=t.length;if(e>0){let r=Bg(e,"?");throw new x(204,!1)}let n=Cp(t);return n!==null?()=>n.factory(t):()=>new t}function Xg(t){if($l(t))return Jt(void 0,t.useValue);{let e=Ul(t);return Jt(e,ci)}}function Ul(t,e,n){let r;if(on(t)){let i=ee(t);return It(i)||Vs(i)}else if($l(t))r=()=>ee(t.useValue);else if(Yg(t))r=()=>t.useFactory(...Ss(t.deps||[]));else if(Zg(t))r=()=>se(ee(t.useExisting));else{let i=ee(t&&(t.useClass||t.provide));if(em(t))r=()=>new i(...Ss(t.deps));else return It(i)||Vs(i)}return r}function Jt(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function em(t){return!!t.deps}function tm(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function nm(t){return typeof t=="function"||typeof t=="object"&&t instanceof N}function js(t,e){for(let n of t)Array.isArray(n)?js(n,e):n&&Lu(n)?js(n.\u0275providers,e):e(n)}function hu(t,e=null,n=null,r){let i=Hl(t,e,n,r);return i.resolveInjectorInitializers(),i}function Hl(t,e=null,n=null,r,i=new Set){let o=[n||ge,Wg(t)];return r=r||(typeof t=="object"?void 0:Q(t)),new bi(o,e||Sa(),r||null,i)}var $i=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return hu({name:""},i,r,"");{let o=r.name??"";return hu({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=Fn,e.NULL=new wi,e.\u0275prov=H({token:e,providedIn:"any",factory:()=>se(Rl)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var $s;function fM(t){$s=t}function rm(){if($s!==void 0)return $s;if(typeof document<"u")return document;throw new x(210,!1)}var hM=new N("AppId",{providedIn:"root",factory:()=>im}),im="ng",om=new N("Platform Initializer"),sm=new N("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var pM=new N("CSP nonce",{providedIn:"root",factory:()=>rm().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Gl(t){return t instanceof Function?t():t}function zl(t){return(t.flags&128)===128}var Ci=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ci||{});var Wl=new Map,am=0;function cm(){return am++}function um(t){Wl.set(t[Li],t)}function lm(t){Wl.delete(t[Li])}var pu="__ngContext__";function St(t,e){nt(e)?(t[pu]=e[Li],um(e)):t[pu]=e}var dm;function Ta(t,e){return dm(t,e)}function Aa(t){let e=t[Z];return Ae(e)?e[Z]:e}function ql(t){return Yl(t[Ln])}function Zl(t){return Yl(t[Me])}function Yl(t){for(;t!==null&&!Ae(t);)t=t[Me];return t}function Qt(t,e,n,r,i){if(r!=null){let o,s=!1;Ae(r)?o=r:nt(r)&&(s=!0,r=r[We]);let a=je(r);t===0&&n!==null?i==null?Xl(e,n,a):Ei(e,n,a,i||null,!0):t===1&&n!==null?Ei(e,n,a,i||null,!0):t===2?Tm(e,a,s):t===3&&e.destroyNode(a),o!=null&&Nm(e,t,o,n,i)}}function fm(t,e){return t.createText(e)}function hm(t,e,n){t.setValue(e,n)}function Kl(t,e,n){return t.createElement(e,n)}function pm(t,e){let n=e[Y];Wn(t,e,n,2,null,null),e[We]=null,e[Ne]=null}function gm(t,e,n,r,i,o){r[We]=i,r[Ne]=e,Wn(t,r,n,1,i,o)}function mm(t,e){Wn(t,e,e[Y],2,null,null)}function ym(t){let e=t[Ln];if(!e)return gs(t[I],t);for(;e;){let n=null;if(nt(e))n=e[Ln];else{let r=e[me];r&&(n=r)}if(!n){for(;e&&!e[Me]&&e!==t;)nt(e)&&gs(e[I],e),e=e[Z];e===null&&(e=t),nt(e)&&gs(e[I],e),n=e&&e[Me]}e=n}}function vm(t,e,n,r){let i=me+r,o=n.length;r>0&&(n[i-1][Me]=e),r<o-me?(e[Me]=n[i],Fl(n,me+r,e)):(n.push(e),e[Me]=null),e[Z]=n;let s=e[Ri];s!==null&&n!==s&&Dm(s,e);let a=e[Vn];a!==null&&a.insertView(t),dl(e),e[C]|=128}function Dm(t,e){let n=t[pi],i=e[Z][Z][Le];e[Le]!==i&&(t[nl]=!0),n===null?t[pi]=[e]:n.push(e)}function Jl(t,e){let n=t[pi],r=n.indexOf(e),i=e[Z];n.splice(r,1)}function Bs(t,e){if(t.length<=me)return;let n=me+e,r=t[n];if(r){let i=r[Ri];i!==null&&i!==t&&Jl(i,r),e>0&&(t[n-1][Me]=r[Me]);let o=_i(t,me+e);pm(r[I],r);let s=o[Vn];s!==null&&s.detachView(o[I]),r[Z]=null,r[Me]=null,r[C]&=-129}return r}function Ql(t,e){if(!(e[C]&256)){let n=e[Y];e[Ct]&&Kc(e[Ct]),n.destroyNode&&Wn(t,e,n,3,null,null),ym(e)}}function gs(t,e){if(!(e[C]&256)){e[C]&=-129,e[C]|=256,wm(t,e),_m(t,e),e[I].type===1&&e[Y].destroy();let n=e[Ri];if(n!==null&&Ae(e[Z])){n!==e[Z]&&Jl(n,e);let r=e[Vn];r!==null&&r.detachView(t)}lm(e)}}function _m(t,e){let n=t.cleanup,r=e[Rn];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Rn]=null);let i=e[On];if(i!==null){e[On]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function wm(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Mt)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Pe(4,a,c);try{c.call(a)}finally{Pe(5,a,c)}}else{Pe(4,i,o);try{o.call(i)}finally{Pe(5,i,o)}}}}}function bm(t,e,n){return Cm(t,e.parent,n)}function Cm(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[We];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===kn.None||o===kn.Emulated)return null}return ve(r,n)}}function Ei(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Xl(t,e,n){t.appendChild(e,n)}function gu(t,e,n,r,i){r!==null?Ei(t,e,n,r,i):Xl(t,e,n)}function Em(t,e,n,r){t.removeChild(e,n,r)}function Na(t,e){return t.parentNode(e)}function Im(t,e){return t.nextSibling(e)}function xm(t,e,n){return Sm(t,e,n)}function Mm(t,e,n){return t.type&40?ve(t,n):null}var Sm=Mm,mu;function Oa(t,e,n,r){let i=bm(t,r,e),o=e[Y],s=r.parent||e[Ne],a=xm(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)gu(o,i,n[c],a,!1);else gu(o,i,n,a,!1);mu!==void 0&&mu(o,r,e,n,i)}function ui(t,e){if(e!==null){let n=e.type;if(n&3)return ve(e,t);if(n&4)return Us(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ui(t,r);{let i=t[e.index];return Ae(i)?Us(-1,i):je(i)}}else{if(n&32)return Ta(e,t)()||je(t[e.index]);{let r=ed(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Aa(t[Le]);return ui(i,r)}else return ui(t,e.next)}}}return null}function ed(t,e){if(e!==null){let r=t[Le][Ne],i=e.projection;return r.projection[i]}return null}function Us(t,e){let n=me+t+1;if(n<e.length){let r=e[n],i=r[I].firstChild;if(i!==null)return ui(r,i)}return e[Et]}function Tm(t,e,n){let r=Na(t,e);r&&Em(t,r,e,n)}function Fa(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&St(je(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Fa(t,e,n.child,r,i,o,!1),Qt(e,t,i,a,o);else if(c&32){let u=Ta(n,r),l;for(;l=u();)Qt(e,t,i,l,o);Qt(e,t,i,a,o)}else c&16?Am(t,e,r,n,i,o):Qt(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Wn(t,e,n,r,i,o){Fa(n,r,t.firstChild,e,i,o,!1)}function Am(t,e,n,r,i,o){let s=n[Le],c=s[Ne].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Qt(e,t,i,l,o)}else{let u=c,l=s[Z];zl(r)&&(u.flags|=128),Fa(t,e,u,l,i,o,!0)}}function Nm(t,e,n,r,i){let o=n[Et],s=je(n);o!==s&&Qt(e,t,r,o,i);for(let a=me;a<n.length;a++){let c=n[a];Wn(c[I],c,t,e,r,o)}}function Om(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Ci.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ci.Important),t.setStyle(n,r,i,o))}}function Fm(t,e,n){t.setAttribute(e,"style",n)}function td(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function nd(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Ts(t,e,r),i!==null&&td(t,e,i),o!==null&&Fm(t,e,o)}var Ii=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Vu})`}};function ka(t){return t instanceof Ii?t.changingThisBreaksApplicationSecurity:t}function km(t,e){let n=Pm(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Vu})`)}return n===e}function Pm(t){return t instanceof Ii&&t.getTypeName()||null}var Rm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Lm(t){return t=String(t),t.match(Rm)?t:"unsafe:"+t}var rd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(rd||{});function gM(t){let e=Vm();return e?e.sanitize(rd.URL,t)||"":km(t,"URL")?ka(t):Lm(Fi(t))}function Vm(){let t=j();return t&&t[nn].sanitizer}var jm="h",$m="b";var Bm=(t,e,n)=>null;function Pa(t,e,n=!1){return Bm(t,e,n)}var Hs=class{},xi=class{};function Um(t){let e=Error(`No component factory found for ${Q(t)}.`);return e[Hm]=t,e}var Hm="ngComponent";var Gs=class{resolveComponentFactory(e){throw Um(e)}},Bi=(()=>{let e=class e{};e.NULL=new Gs;let t=e;return t})();function Gm(){return Ui(De(),j())}function Ui(t,e){return new Ft(ve(t,e))}var Ft=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=Gm;let t=e;return t})();var zs=class{},ln=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>zm();let t=e;return t})();function zm(){let t=j(),e=De(),n=at(e.index,t);return(nt(n)?n:t)[Y]}var Wm=(()=>{let e=class e{};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),jn=class{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}},qm=new jn("17.0.2"),ms={};function id(t){return Ra(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Zm(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Ra(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var Ws=class{constructor(){}supports(e){return id(e)}create(e){return new qs(e)}},Ym=(t,e)=>e,qs=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ym}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<yu(r,i,o)?n:r,a=yu(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let f=h<o.length?o[h]:o[h]=0,g=f+h;l<=g&&g<u&&(o[h]=f+1)}let d=s.previousIndex;o[d]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!id(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,Zm(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Zs(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Mi),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Mi),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Zs=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Ys=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Mi=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Ys,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function yu(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Ks=class{constructor(){}supports(e){return e instanceof Map||Ra(e)}create(){return new Js}},Js=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Ra(e)))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new Qs(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},Qs=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function vu(){return new Hi([new Ws])}var Hi=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||vu()),deps:[[e,new Pl,new kl]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new x(901,!1)}};e.\u0275prov=H({token:e,providedIn:"root",factory:vu});let t=e;return t})();function Du(){return new La([new Ks])}var La=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Du()),deps:[[e,new Pl,new kl]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i)return i;throw new x(901,!1)}};e.\u0275prov=H({token:e,providedIn:"root",factory:Du});let t=e;return t})();function Si(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(je(o)),Ae(o)&&Km(o,r);let s=n.type;if(s&8)Si(t,e,n.child,r);else if(s&32){let a=Ta(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=ed(e,n);if(Array.isArray(a))r.push(...a);else{let c=Aa(e[Le]);Si(c[I],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Km(t,e){for(let n=me;n<t.length;n++){let r=t[n],i=r[I].firstChild;i!==null&&Si(r[I],r,i,e)}t[Et]!==t[We]&&e.push(t[Et])}var od=[];function Jm(t){return t[Ct]??Qm(t)}function Qm(t){let e=od.pop()??Object.create(ey);return e.lView=t,e}function Xm(t){t.lView[Ct]!==t&&(t.lView=null,od.push(t))}var ey=fe(re({},qc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ji(t.lView)},consumerOnSignalRead(){this.lView[Ct]=this}}),ty="ngOriginalError";function ys(t){return t[ty]}var sn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ys(e);for(;n&&ys(n);)n=ys(n);return n||null}};var sd=!1,ny=new N("",{providedIn:"root",factory:()=>sd});var ct={};function mM(t){ad(ue(),j(),un()+t,!1)}function ad(t,e,n,r){if(!r)if((e[C]&3)===3){let o=t.preOrderCheckHooks;o!==null&&si(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ai(e,o,0,n)}xt(n)}function v(t,e=M.Default){let n=j();if(n===null)return se(t,e);let r=De();return Tl(r,n,ee(t),e)}function ry(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)xt(~i);else{let o=i,s=n[++r],a=n[++r];vg(s,o);let c=e[o];a(2,c)}}}finally{xt(-1)}}function Gi(t,e,n,r,i,o,s,a,c,u,l){let d=e.blueprint.slice();return d[We]=i,d[C]=r|4|128|8,(u!==null||t&&t[C]&2048)&&(d[C]|=2048),ll(d),d[Z]=d[cn]=t,d[Te]=n,d[nn]=s||t&&t[nn],d[Y]=a||t&&t[Y],d[tn]=c||t&&t[tn]||null,d[Ne]=o,d[Li]=cm(),d[As]=l,d[el]=u,d[Le]=e.type==2?t[Le]:d,d}function zi(t,e,n,r,i){let o=t.data[e];if(o===null)o=iy(t,e,n,r,i),yg()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=fg();o.injectorIndex=s===null?-1:s.injectorIndex}return Hn(o,!0),o}function iy(t,e,n,r,i){let o=hl(),s=pl(),a=s?o:o&&o.parent,c=t.data[e]=uy(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function cd(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ud(t,e,n,r,i){let o=un(),s=r&2;try{xt(-1),s&&e.length>Ve&&ad(t,e,Ve,!1),Pe(s?2:0,i),n(r,i)}finally{xt(o),Pe(s?3:1,i)}}function ld(t,e,n){if(rl(e)){let r=ce(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{ce(r)}}}function dd(t,e,n){fl()&&(gy(t,e,n,ve(n,e)),(n.flags&64)===64&&yd(t,e,n))}function fd(t,e,n=ve){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function hd(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Va(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Va(t,e,n,r,i,o,s,a,c,u,l){let d=Ve+r,h=d+i,f=oy(d,h),g=typeof u=="function"?u():u;return f[I]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}function oy(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ct);return n}function sy(t,e,n,r){let o=r.get(ny,sd)||n===kn.ShadowDom,s=t.selectRootElement(e,o);return ay(s),s}function ay(t){cy(t)}var cy=t=>null;function uy(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return ug()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function _u(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=n===null?{}:n;let o=t[i];r===null?wu(n,e,i,o):r.hasOwnProperty(i)&&wu(n,e,r[i],o)}return n}function wu(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function ly(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=o[l],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=_u(d.inputs,l,c,f),u=_u(d.outputs,l,u,g);let m=c!==null&&s!==null&&!qu(e)?xy(c,l,s):null;a.push(m)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function dy(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function pd(t,e,n,r,i,o,s,a){let c=ve(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(ja(t,n,l,r,i),Vi(e)&&fy(n,e.index)):e.type&3?(r=dy(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function fy(t,e){let n=at(e,t);n[C]&16||(n[C]|=64)}function gd(t,e,n,r){if(fl()){let i=r===null?null:{"":-1},o=yy(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&md(t,e,n,s,i,a),i&&vy(n,r,i)}n.mergedAttrs=Pn(n.mergedAttrs,n.attrs)}function md(t,e,n,r,i,o){for(let u=0;u<r.length;u++)Ps(Di(n,e),t,r[u].type);_y(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=cd(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Pn(n.mergedAttrs,l.hostAttrs),wy(t,n,e,c,l),Dy(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}ly(t,n,o)}function hy(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;py(s)!=a&&s.push(a),s.push(n,r,o)}}function py(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function gy(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Vi(n)&&by(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Di(n,e),St(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],u=rn(e,t,a,n);if(St(u,e),s!==null&&Iy(e,a-i,u,c,n,s),rt(c)){let l=at(n.index,e);l[Te]=rn(e,t,a,n)}}}function yd(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Dg();try{xt(o);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Fs(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&my(c,u)}}finally{xt(-1),Fs(s)}}function my(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function yy(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if($p(e,s.selectors,!1))if(r||(r=[]),rt(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Xs(t,e,c)}else r.unshift(s),Xs(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Xs(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function vy(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new x(-301,!1);r.push(e[i],o)}}}function Dy(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;rt(e)&&(n[""]=t)}}function _y(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function wy(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=It(i.type,!0)),s=new Mt(o,rt(i),v);t.blueprint[r]=s,n[r]=s,hy(t,e,r,cd(t,n,i.hostVars,ct),i)}function by(t,e,n){let r=ve(e,t),i=hd(n),o=t[nn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Wi(t,Gi(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function Cy(t,e,n,r,i,o){let s=ve(t,e);Ey(e[Y],s,o,t.value,n,r,i)}function Ey(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Fi(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function Iy(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],l=s[a++];vd(r,n,c,u,l)}}function vd(t,e,n,r,i){let o=ce(null);try{let s=t.inputTransforms;s!==null&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),t.setInput!==null?t.setInput(e,i,n,r):e[r]=i}finally{ce(o)}}function xy(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}return r}function Dd(t,e,n,r){return[t,!0,!1,e,null,r,!1,n,null,null,null]}function _d(t,e){let n=t.contentQueries;if(n!==null){let r=ce(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];gl(o),a.contentQueries(2,e[s],s)}}}finally{ce(r)}}}function Wi(t,e){return t[Ln]?t[cu][Me]=e:t[Ln]=e,t[cu]=e,e}function ea(t,e,n){gl(0);let r=ce(null);try{e(t,n)}finally{ce(r)}}function My(t){return t[Rn]||(t[Rn]=[])}function Sy(t){return t.cleanup||(t.cleanup=[])}function wd(t,e){let n=t[tn],r=n?n.get(sn,null):null;r&&r.handleError(e)}function ja(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=e[s],u=t.data[s];vd(u,c,r,a,i)}}function Ty(t,e,n){let r=cl(e,t);hm(t[Y],r,n)}var Ay=100;function Ny(t,e,n,r=!0){let i=e[nn],o=i.rendererFactory,s=i.afterRenderEventManager,a=!1;a||(o.begin?.(),s?.begin());try{bd(t,e,t.template,n),Oy(e)}catch(c){throw r&&wd(e,c),c}finally{a||(o.end?.(),i.inlineEffectRunner?.flush(),s?.end())}}function Oy(t){let e=0;for(;t[C]&9216||t[Ct]?.dirty;){if(e===Ay)throw new x(103,!1);e++,Id(t,1)}}function bd(t,e,n,r){let i=e[C];if((i&256)===256)return;let o=!1;!o&&e[nn].inlineEffectRunner?.flush(),va(e);let s=null,a=null;!o&&Fy(t)&&(a=Jm(e),s=Zc(a));try{ll(e),gg(t.bindingStartIndex),n!==null&&ud(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&si(e,d,null)}else{let d=t.preOrderHooks;d!==null&&ai(e,d,0,null),ds(e,0)}if(ky(e),Cd(e,0),t.contentQueries!==null&&_d(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&si(e,d)}else{let d=t.contentHooks;d!==null&&ai(e,d,1),ds(e,1)}ry(t,e);let u=t.components;u!==null&&xd(e,u,0);let l=t.viewQuery;if(l!==null&&ea(2,l,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&si(e,d)}else{let d=t.viewHooks;d!==null&&ai(e,d,2),ds(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ls]){for(let d of e[ls])d();e[ls]=null}o||(e[C]&=-73)}catch(c){throw ji(e),c}finally{a!==null&&(Yc(a,s),Xm(a)),Da()}}function Fy(t){return t.type!==2}function Cd(t,e){for(let n=ql(t);n!==null;n=Zl(n)){n[Ns]=!1;for(let r=me;r<n.length;r++){let i=n[r];Ed(i,e)}}}function ky(t){for(let e=ql(t);e!==null;e=Zl(e)){if(!e[nl])continue;let n=e[pi];for(let r=0;r<n.length;r++){let i=n[r],o=i[Z];rg(i)}}}function Py(t,e,n){let r=at(e,t);Ed(r,n)}function Ed(t,e){ma(t)&&Id(t,e)}function Id(t,e){let r=t[I],i=t[C],o=t[Ct],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&as(o)),o&&(o.dirty=!1),t[C]&=-9217,s)bd(r,t,r.template,t[Te]);else if(i&8192){Cd(t,1);let a=r.components;a!==null&&xd(t,a,1)}}function xd(t,e,n){for(let r=0;r<e.length;r++)Py(t,e[r],n)}function $a(t){for(;t;){t[C]|=64;let e=Aa(t);if(Kp(t)&&!e)return t;t=e}return null}var Tt=class{get rootNodes(){let e=this._lView,n=e[I];return Si(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Te]}set context(e){this._lView[Te]=e}get destroyed(){return(this._lView[C]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Z];if(Ae(e)){let n=e[hi],r=n?n.indexOf(this):-1;r>-1&&(Bs(e,r),_i(n,r))}this._attachedToViewContainer=!1}Ql(this._lView[I],this._lView)}onDestroy(e){og(this._lView,e)}markForCheck(){$a(this._cdRefInjectingView||this._lView)}detach(){this._lView[C]&=-129}reattach(){dl(this._lView),this._lView[C]|=128}detectChanges(){Ny(this._lView[I],this._lView,this.context,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,mm(this._lView[I],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e}},Ba=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Ry;let t=e;return t})();function Ry(t){return Ly(De(),j(),(t&16)===16)}function Ly(t,e,n){if(Vi(t)&&!n){let r=at(t.index,e);return new Tt(r,r)}else if(t.type&47){let r=e[Le];return new Tt(r,e)}return null}var bu=new Set;function Md(t){bu.has(t)||(bu.add(t),performance?.mark?.("mark_use_counter",{detail:{feature:t}}))}var ta=class extends et{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=vs(o),i&&(i=vs(i)),s&&(s=vs(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof K&&e.add(a),a}};function vs(t){return e=>{setTimeout(t,void 0,e)}}var oe=ta;function Cu(...t){}function Vy(){let t=typeof tt.requestAnimationFrame=="function",e=tt[t?"requestAnimationFrame":"setTimeout"],n=tt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Se=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oe(!1),this.onMicrotaskEmpty=new oe(!1),this.onStable=new oe(!1),this.onError=new oe(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=Vy().nativeRequestAnimationFrame,By(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new x(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,jy,Cu,Cu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},jy={};function Ua(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function $y(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(tt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,na(t),t.isCheckStableRunning=!0,Ua(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),na(t))}function By(t){let e=()=>{$y(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(Uy(a))return n.invokeTask(i,o,s,a);try{return Eu(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Iu(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return Eu(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Iu(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,na(t),Ua(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function na(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Eu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Iu(t){t._nesting--,Ua(t)}var Sd=new N("",{providedIn:"root",factory:Td});function Td(){let t=q(Se),e=!0,n=new T(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),r=new T(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});let s=t.onUnstable.subscribe(()=>{Se.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}});return ts(n,r.pipe(ei()))}function Uy(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Hy=(()=>{let e=class e{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let r of this.internalCallbacks)r();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Gy(t,e){let n=at(e,t),r=n[I];zy(r,n);let i=n[We];i!==null&&n[As]===null&&(n[As]=Pa(i,n[tn])),Ha(r,n,n[Te])}function zy(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ha(t,e,n){va(e);try{let r=t.viewQuery;r!==null&&ea(1,r,n);let i=t.template;i!==null&&ud(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&_d(t,e),t.staticViewQueries&&ea(2,t.viewQuery,n);let o=t.components;o!==null&&Wy(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[C]&=-5,Da()}}function Wy(t,e){for(let n=0;n<e.length;n++)Gy(t,e[n])}function ra(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Qc(i,a);else if(o==2){let c=a,u=e[++s];r=Qc(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Ti=class extends Bi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=bt(e);return new $n(n,this.ngModule)}};function xu(t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push({propName:r,templateName:n})}return e}function qy(t){let e=t.toLowerCase();return e==="svg"?al:e==="math"?eg:null}var ia=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Pi(r);let i=this.injector.get(e,ms,r);return i!==ms||n===ms?i:this.parentInjector.get(e,n,r)}},$n=class extends xi{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=xu(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return xu(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Gp(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let o=i instanceof it?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new ia(e,o):e,a=s.get(zs,null);if(a===null)throw new x(407,!1);let c=s.get(Wm,null),u=s.get(Hy,null),l={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?sy(d,r,this.componentDef.encapsulation,s):Kl(d,h,qy(h)),g=4608,m=this.componentDef.onPush?576:528,y=this.componentDef.signals?g:m,D=null;f!==null&&(D=Pa(f,s,!0));let U=Va(0,null,null,1,0,null,null,null,null,null,null),B=Gi(null,U,null,y,null,null,l,d,s,null,D);va(B);let R,ne;try{let Ee=this.componentDef,Ht,jo=null;Ee.findHostDirectiveDefs?(Ht=[],jo=new Map,Ee.findHostDirectiveDefs(Ee,Ht,jo),Ht.push(Ee)):Ht=[Ee];let xh=Zy(B,f),Mh=Yy(xh,f,Ee,Ht,B,l,d);ne=ul(U,Ve),f&&Qy(d,Ee,f,r),n!==void 0&&Xy(ne,this.ngContentSelectors,n),R=Jy(Mh,Ee,Ht,jo,B,[ev]),Ha(U,B,null)}finally{Da()}return new oa(this.componentType,R,Ui(ne,B),B,ne)}},oa=class extends Hs{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Tt(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;ja(o[I],o,i,e,n),this.previousInputValues.set(e,n);let s=at(this._tNode.index,o);$a(s)}}get injector(){return new wt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Zy(t,e){let n=t[I],r=Ve;return t[r]=e,zi(n,r,2,"#host",null)}function Yy(t,e,n,r,i,o,s){let a=i[I];Ky(r,t,e,s);let c=null;e!==null&&(c=Pa(e,i[tn]));let u=o.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Gi(i,hd(n),null,l,i[t.index],t,o,u,null,null,c);return a.firstCreatePass&&Xs(a,t,r.length-1),Wi(i,d),i[t.index]=d}function Ky(t,e,n,r){for(let i of t)e.mergedAttrs=Pn(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ra(e,e.mergedAttrs,!0),n!==null&&nd(r,n,e))}function Jy(t,e,n,r,i,o){let s=De(),a=i[I],c=ve(s,i);md(a,i,s,n,null,r);for(let l=0;l<n.length;l++){let d=s.directiveStart+l,h=rn(i,a,d,s);St(h,i)}yd(a,i,s),c&&St(c,i);let u=rn(i,a,s.directiveStart+s.componentOffset,s);if(t[Te]=i[Te]=u,o!==null)for(let l of o)l(u,e);return ld(a,s,t),u}function Qy(t,e,n,r){if(r)Ts(t,n,["ng-version",qm.full]);else{let{attrs:i,classes:o}=zp(e.selectors[0]);i&&Ts(t,n,i),o&&o.length>0&&td(t,n,o.join(" "))}}function Xy(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function ev(){let t=De();Ca(j()[I],t)}function tv(t){return Object.getPrototypeOf(t.prototype).constructor}function ae(t){let e=tv(t.type),n=!0,r=[t];for(;e;){let i;if(rt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=ii(t.inputs),s.inputTransforms=ii(t.inputTransforms),s.declaredInputs=ii(t.declaredInputs),s.outputs=ii(t.outputs);let a=i.hostBindings;a&&ov(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&rv(t,c),u&&iv(t,u),ni(t.inputs,i.inputs),ni(t.declaredInputs,i.declaredInputs),ni(t.outputs,i.outputs),i.inputTransforms!==null&&(s.inputTransforms===null&&(s.inputTransforms={}),ni(s.inputTransforms,i.inputTransforms)),rt(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===ae&&(n=!1)}}e=Object.getPrototypeOf(e)}nv(r)}function nv(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Pn(i.hostAttrs,n=Pn(n,i.hostAttrs))}}function ii(t){return t===en?{}:t===ge?[]:t}function rv(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function iv(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function ov(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function sv(t,e,n){return t[e]=n}function qn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function qi(t,e,n,r){let i=j(),o=ya();if(qn(i,o,e)){let s=ue(),a=_a();Cy(a,i,t,e,n,r)}return qi}function Ad(t,e,n,r){return qn(t,ya(),n)?e+Fi(n)+r:ct}function oi(t,e){return t<<17|e<<2}function At(t){return t>>17&32767}function av(t){return(t&2)==2}function cv(t,e){return t&131071|e<<17}function sa(t){return t|2}function an(t){return(t&131068)>>2}function Ds(t,e){return t&-131069|e<<2}function uv(t){return(t&1)===1}function aa(t){return t|1}function lv(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=At(s),c=an(s);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||zn(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=At(t[a+1]);t[r+1]=oi(h,a),h!==0&&(t[h+1]=Ds(t[h+1],r)),t[a+1]=cv(t[a+1],r)}else t[r+1]=oi(a,0),a!==0&&(t[a+1]=Ds(t[a+1],r)),a=r;else t[r+1]=oi(c,0),a===0?a=r:t[c+1]=Ds(t[c+1],r),c=r;u&&(t[r+1]=sa(t[r+1])),Mu(t,l,r,!0,o),Mu(t,l,r,!1,o),dv(e,l,t,r,o),s=oi(a,c),o?e.classBindings=s:e.styleBindings=s}function dv(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&zn(o,e)>=0&&(n[r+1]=aa(n[r+1]))}function Mu(t,e,n,r,i){let o=t[n+1],s=e===null,a=r?At(o):an(o),c=!1;for(;a!==0&&(c===!1||s);){let u=t[a],l=t[a+1];fv(u,e)&&(c=!0,t[a+1]=r?aa(l):sa(l)),a=r?At(l):an(l)}c&&(t[n+1]=r?sa(o):aa(o))}function fv(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?zn(t,e)>=0:!1}function hv(t,e,n){let r=j(),i=ya();if(qn(r,i,e)){let o=ue(),s=_a();pd(o,s,r,t,e,r[Y],n,!1)}return hv}function Su(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";ja(t,n,o[s],s,r)}function Zi(t,e){return pv(t,e,null,!0),Zi}function pv(t,e,n,r){let i=j(),o=ue(),s=mg(2);if(o.firstUpdatePass&&mv(o,t,s,r),e!==ct&&qn(i,s,e)){let a=o.data[un()];wv(o,a,i,i[Y],t,i[s+1]=bv(e,n),r,s)}}function gv(t,e){return e>=t.expandoStartIndex}function mv(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[un()],s=gv(t,n);Cv(o,r)&&e===null&&!s&&(e=!1),e=yv(i,o,e,r),lv(i,o,e,n,s,r)}}function yv(t,e,n,r){let i=_g(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=_s(null,t,e,n,r),n=Bn(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=_s(i,t,e,n,r),o===null){let c=vv(t,e,r);c!==void 0&&Array.isArray(c)&&(c=_s(null,t,e,c[1],r),c=Bn(c,e.attrs,r),Dv(t,e,r,c))}else o=_v(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function vv(t,e,n){let r=n?e.classBindings:e.styleBindings;if(an(r)!==0)return t[At(r)]}function Dv(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[At(i)]=r}function _v(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Bn(r,s,n)}return Bn(r,e.attrs,n)}function _s(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Bn(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Bn(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Hg(t,s,n?!0:e[++o]))}return t===void 0?null:t}function wv(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=uv(u)?Tu(c,e,n,i,an(u),s):void 0;if(!Ai(l)){Ai(o)||av(u)&&(o=Tu(c,null,n,i,a,s));let d=cl(un(),n);Om(r,s,d,i,o)}}function Tu(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===ct&&(h=d?ge:void 0);let f=d?hs(h,r):l===r?h:void 0;if(u&&!Ai(f)&&(f=hs(c,r)),Ai(f)&&(a=f,s))return a;let g=t[i+1];i=s?At(g):an(g)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=hs(c,r))}return a}function Ai(t){return t!==void 0}function bv(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Q(ka(t)))),t}function Cv(t,e){return(t.flags&(e?8:16))!==0}var yM=new RegExp(`^(\\d+)*(${$m}|${jm})*(.*)`);var Ev=(t,e)=>null;function Au(t,e){return Ev(t,e)}function Iv(t,e,n,r){let i=e.tView,s=t[C]&4096?4096:16,a=Gi(t,i,n,s,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[Ri]=c;let u=t[Vn];return u!==null&&(a[Vn]=u.createEmbeddedView(i)),Ha(i,a,n),a}function Nu(t,e){return!e||zl(t)}function xv(t,e,n,r=!0){let i=e[I];if(vm(i,e,t,n),r){let o=Us(n,t),s=e[Y],a=Na(s,t[Et]);a!==null&&gm(i,t[Ne],s,e,a,o)}}var Yi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Mv;let t=e;return t})();function Mv(){let t=De();return Tv(t,j())}var Sv=Yi,Nd=class extends Sv{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ui(this._hostTNode,this._hostLView)}get injector(){return new wt(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ea(this._hostTNode,this._hostLView);if(Cl(e)){let n=yi(e,this._hostLView),r=mi(e),i=n[I].data[r+8];return new wt(i,n)}else return new wt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Ou(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-me}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Au(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Nu(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!$g(e),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let c=s?e:new $n(bt(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let m=(s?u:this.parentInjector).get(it,null);m&&(o=m)}let l=bt(c.componentType??{}),d=Au(this._lContainer,l?.id??null),h=d?.firstChild??null,f=c.create(u,i,h,o);return this.insertImpl(f.hostView,a,Nu(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(ng(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Z],u=new Nd(c,c[Ne],c[Z]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return xv(s,i,o,r),e.attachToViewContainerRef(),Fl(ws(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Ou(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Bs(this._lContainer,n);r&&(_i(ws(this._lContainer),n),Ql(r[I],r))}detach(e){let n=this._adjustIndex(e,-1),r=Bs(this._lContainer,n);return r&&_i(ws(this._lContainer),n)!=null?new Tt(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Ou(t){return t[hi]}function ws(t){return t[hi]||(t[hi]=[])}function Tv(t,e){let n,r=e[t.index];return Ae(r)?n=r:(n=Dd(r,e,null,t),e[t.index]=n,Wi(e,n)),Nv(n,e,t,r),new Nd(n,t,e)}function Av(t,e){let n=t[Y],r=n.createComment(""),i=ve(e,t),o=Na(n,i);return Ei(n,o,r,Im(n,i),!1),r}var Nv=kv,Ov=(t,e,n)=>!1;function Fv(t,e,n){return Ov(t,e,n)}function kv(t,e,n,r){if(t[Et])return;let i;n.type&8?i=je(r):i=Av(e,n),t[Et]=i}function Pv(t,e,n,r,i,o,s,a,c){let u=e.consts,l=zi(e,t,4,s||null,gi(u,a));gd(e,n,l,gi(u,c)),Ca(e,l);let d=l.tView=Va(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function Rv(t,e,n,r,i,o,s,a){let c=j(),u=ue(),l=t+Ve,d=u.firstCreatePass?Pv(l,u,c,e,n,r,i,o,s):u.data[l];Hn(d,!1);let h=Lv(u,c,d,t);wa()&&Oa(u,c,h,d),St(h,c);let f=Dd(h,c,h,d);return c[l]=f,Wi(c,f),Fv(f,d,c),ga(d)&&dd(u,c,d),s!=null&&fd(c,d,a),Rv}var Lv=Vv;function Vv(t,e,n,r){return ba(!0),e[Y].createComment("")}function jv(t,e,n,r,i,o){let s=e.consts,a=gi(s,i),c=zi(e,t,2,r,a);return gd(e,n,c,gi(s,o)),c.attrs!==null&&ra(c,c.attrs,!1),c.mergedAttrs!==null&&ra(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function Od(t,e,n,r){let i=j(),o=ue(),s=Ve+t,a=i[Y],c=o.firstCreatePass?jv(s,o,i,e,n,r):o.data[s],u=Bv(o,i,c,a,e,t);i[s]=u;let l=ga(c);return Hn(c,!0),nd(a,u,c),(c.flags&32)!==32&&wa()&&Oa(o,i,u,c),sg()===0&&St(u,i),ag(),l&&(dd(o,i,c),ld(o,c,i)),r!==null&&fd(i,c),Od}function Fd(){let t=De();pl()?hg():(t=t.parent,Hn(t,!1));let e=t;lg(e)&&dg(),cg();let n=ue();return n.firstCreatePass&&(Ca(n,t),rl(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Sg(e)&&Su(n,e,j(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Tg(e)&&Su(n,e,j(),e.stylesWithoutHost,!1),Fd}function $v(t,e,n,r){return Od(t,e,n,r),Fd(),$v}var Bv=(t,e,n,r,i,o)=>(ba(!0),Kl(r,i,Eg()));function DM(){return j()}var _t=void 0;function Uv(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var Hv=["en",[["a","p"],["AM","PM"],_t],[["AM","PM"],_t,_t],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_t,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_t,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_t,"{1} 'at' {0}",_t],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Uv],bs={};function _e(t){let e=Gv(t),n=Fu(e);if(n)return n;let r=e.split("-")[0];if(n=Fu(r),n)return n;if(r==="en")return Hv;throw new x(701,!1)}function Fu(t){return t in bs||(bs[t]=tt.ng&&tt.ng.common&&tt.ng.common.locales&&tt.ng.common.locales[t]),bs[t]}var G=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(G||{});function Gv(t){return t.toLowerCase().replace(/_/g,"-")}var Ni="en-US";var zv=Ni;function Wv(t){wp(t,"Expected localeId to be defined"),typeof t=="string"&&(zv=t.toLowerCase().replace(/_/g,"-"))}function Zn(t){return!!t&&typeof t.then=="function"}function kd(t){return!!t&&typeof t.subscribe=="function"}function dn(t,e,n,r){let i=j(),o=ue(),s=De();return Zv(o,i,i[Y],s,t,e,r),dn}function qv(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Rn],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Zv(t,e,n,r,i,o,s){let a=ga(r),u=t.firstCreatePass&&Sy(t),l=e[Te],d=My(e),h=!0;if(r.type&3||s){let m=ve(r,e),y=s?s(m):m,D=d.length,U=s?R=>s(je(R[r.index])):r.index,B=null;if(!s&&a&&(B=qv(t,e,i,r.index)),B!==null){let R=B.__ngLastListenerFn__||B;R.__ngNextListenerFn__=o,B.__ngLastListenerFn__=o,h=!1}else{o=Pu(r,e,l,o,!1);let R=n.listen(y,i,o);d.push(o,R),u&&u.push(i,U,D,D+1)}}else o=Pu(r,e,l,o,!1);let f=r.outputs,g;if(h&&f!==null&&(g=f[i])){let m=g.length;if(m)for(let y=0;y<m;y+=2){let D=g[y],U=g[y+1],ne=e[D][U].subscribe(o),Ee=d.length;d.push(o,ne),u&&u.push(i,r.index,Ee,-(Ee+1))}}}function ku(t,e,n,r){try{return Pe(6,e,n),n(r)!==!1}catch(i){return wd(t,i),!1}finally{Pe(7,e,n)}}function Pu(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?at(t.index,e):e;$a(a);let c=ku(e,n,r,s),u=o.__ngNextListenerFn__;for(;u;)c=ku(e,n,u,s)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function _M(t=1){return bg(t)}function Yv(t,e,n){return Pd(t,"",e,"",n),Yv}function Pd(t,e,n,r,i){let o=j(),s=Ad(o,e,n,r);if(s!==ct){let a=ue(),c=_a();pd(a,c,o,t,s,o[Y],i,!1)}return Pd}function Kv(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function wM(t,e=""){let n=j(),r=ue(),i=t+Ve,o=r.firstCreatePass?zi(r,i,1,e,null):r.data[i],s=Jv(r,n,o,e,t);n[i]=s,wa()&&Oa(r,n,s,o),Hn(o,!1)}var Jv=(t,e,n,r,i)=>(ba(!0),fm(e[Y],r));function Qv(t){return Rd("",t,""),Qv}function Rd(t,e,n){let r=j(),i=Ad(r,t,e,n);return i!==ct&&Ty(r,un(),i),Rd}function Xv(t,e,n){let r=ue();if(r.firstCreatePass){let i=rt(t);ca(n,r.data,r.blueprint,i,!0),ca(e,r.data,r.blueprint,i,!1)}}function ca(t,e,n,r,i){if(t=ee(t),Array.isArray(t))for(let o=0;o<t.length;o++)ca(t[o],e,n,r,i);else{let o=ue(),s=j(),a=De(),c=on(t)?t:ee(t.provide),u=Ul(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(on(t)||!t.multi){let f=new Mt(u,i,v),g=Es(c,e,i?l:l+h,d);g===-1?(Ps(Di(a,s),o,c),Cs(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[g]=f,s[g]=f)}else{let f=Es(c,e,l+h,d),g=Es(c,e,l,l+h),m=f>=0&&n[f],y=g>=0&&n[g];if(i&&!y||!i&&!m){Ps(Di(a,s),o,c);let D=nD(i?tD:eD,n.length,i,r,u);!i&&y&&(n[g].providerFactory=D),Cs(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),s.push(D)}else{let D=Ld(n[i?g:f],u,!i&&r);Cs(o,t,f>-1?f:g,D)}!i&&r&&y&&n[g].componentProviders++}}}function Cs(t,e,n,r){let i=on(e),o=Kg(e);if(i||o){let c=(o?ee(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function Ld(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Es(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function eD(t,e,n,r){return ua(this.multi,[])}function tD(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=rn(n,n[I],this.providerFactory.index,r);o=a.slice(0,s),ua(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],ua(i,o);return o}function ua(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function nD(t,e,n,r,i){let o=new Mt(t,n,v);return o.multi=[],o.index=e,o.componentProviders=0,Ld(o,i,r&&!n),o}function $e(t,e=[]){return n=>{n.providersResolver=(r,i)=>Xv(r,i?i(t):t,e)}}var ot=class{},la=class{};var da=class extends ot{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ti(this);let i=Ju(e);this._bootstrapComponents=Gl(i.bootstrap),this._r3Injector=Hl(e,n,[{provide:ot,useValue:this},{provide:Bi,useValue:this.componentFactoryResolver},...r],Q(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},fa=class extends la{constructor(e){super(),this.moduleType=e}create(e){return new da(this.moduleType,e,[])}};var Oi=class extends ot{constructor(e){super(),this.componentFactoryResolver=new Ti(this),this.instance=null;let n=new bi([...e.providers,{provide:ot,useValue:this},{provide:Bi,useValue:this.componentFactoryResolver}],e.parent||Sa(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function rD(t,e,n=null){return new Oi({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var iD=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Vl(!1,r.type),o=i.length>0?rD([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=H({token:e,providedIn:"environment",factory:()=>new e(se(it))});let t=e;return t})();function bM(t){Md("NgStandalone"),t.getStandaloneInjector=e=>e.get(iD).getOrCreateStandaloneInjector(t)}function oD(t,e){let n=t[e];return n===ct?void 0:n}function sD(t,e,n,r,i,o){let s=e+n;return qn(t,s,i)?sv(t,s+1,o?r.call(o,i):r(i)):oD(t,s+1)}function CM(t,e){let n=ue(),r,i=t+Ve;n.firstCreatePass?(r=aD(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=It(r.type,!0)),s,a=pe(v);try{let c=vi(!1),u=o();return vi(c),Kv(n,j(),i,u),u}finally{pe(a)}}function aD(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function EM(t,e,n){let r=t+Ve,i=j(),o=tg(i,r);return cD(i,r)?sD(i,pg(),e,o.transform,n,o):o.transform(n)}function cD(t,e){return t[I].data[e].pure}var Ki=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=dD;let t=e;return t})(),uD=Ki,lD=class extends uD{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Iv(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Tt(i)}};function dD(){return fD(De(),j())}function fD(t,e){return t.type&4?new lD(e,t,Ui(t,e)):null}var hD=new N("Application Initializer"),Vd=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=q(hD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Zn(s))r.push(s);else if(kd(s)){let a=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xM=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function pD(){return typeof $localize<"u"&&$localize.locale||Ni}var Ji=new N("LocaleId",{providedIn:"root",factory:()=>q(Ji,M.Optional|M.SkipSelf)||pD()});var gD=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xn(!1)}add(){this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ha=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},MM=(()=>{let e=class e{compileModuleSync(r){return new fa(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=Ju(r),s=Gl(o.declarations).reduce((a,c)=>{let u=bt(c);return u&&a.push(new $n(u)),a},[]);return new ha(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mD=new N("");var li=null;var jd=new N("PlatformDestroyListeners"),yD=new N("appBootstrapListener");function vD(){Jc(()=>{throw new x(600,!1)})}function DD(t){return t.isBoundToModule}function _D(t=[]){if(li)return li;let e=bD(t);return li=e,vD(),wD(e),e}function wD(t){t.get(om,null)?.forEach(n=>n())}function SM(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=_D(r),o=[SD(),...n||[]],a=new Oi({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Se);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(sn,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:f=>{u.handleError(f)}})});let d=()=>a.destroy(),h=i.get(jd);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),ED(u,c,()=>{let f=a.get(Vd);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(Ji,Ni);Wv(g||Ni);let m=a.get($d);return e!==void 0&&m.bootstrap(e),m})})})}catch(e){return Promise.reject(e)}}function bD(t=[],e){return $i.create({name:e,providers:[{provide:Bl,useValue:"platform"},{provide:jd,useValue:new Set([()=>li=null])},...t]})}function CD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}function ED(t,e,n){try{let r=n();return Zn(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var $d=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=q(Bd),this.zoneIsStable=q(Sd),this.componentTypes=[],this.components=[],this.isStable=q(gD).hasPendingTasks.pipe(os(r=>r?Xo(!1):this.zoneIsStable),Qr(),ei()),this._injector=q(it)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof xi;if(!this._injector.get(Vd).done){let g="Cannot bootstrap as there are still asynchronous initializers running."+(!o&&Zp(r)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new x(405,!1)}let a;o?a=r:a=this._injector.get(Bi).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=DD(a)?void 0:this._injector.get(ot),u=i||a.selector,l=a.create($i.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(mD,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Is(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new x(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Is(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(yD,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Is(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new x(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Is(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Bd=new N("",{providedIn:"root",factory:()=>q(sn).handleError.bind(void 0)});function ID(){let t=q(Se),e=q(sn);return n=>t.runOutsideAngular(()=>e.handleError(n))}var xD=(()=>{let e=class e{constructor(){this.zone=q(Se),this.applicationRef=q($d)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function MD(t){return[{provide:Se,useFactory:t},{provide:xa,multi:!0,useFactory:()=>{let e=q(xD,{optional:!0});return()=>e.initialize()}},{provide:Bd,useFactory:ID},{provide:Sd,useFactory:Td}]}function SD(t){let e=MD(()=>new Se(CD(t)));return zg([[],e])}function Qi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Za=null;function fn(){return Za}function QM(t){Za||(Za=t)}var Hd=class{},Jd=new N("DocumentToken"),Qd=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>(()=>q(TD))(),providedIn:"platform"});let t=e;return t})();var TD=(()=>{let e=class e extends Qd{constructor(){super(),this._doc=q(Jd),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fn().getBaseHref(this._doc)}onPopState(r){let i=fn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=fn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>(()=>new e)(),providedIn:"platform"});let t=e;return t})();function Xd(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Gd(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function kt(t){return t&&t[0]!=="?"?"?"+t:t}var Ja=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>(()=>q(ND))(),providedIn:"root"});let t=e;return t})(),AD=new N("appBaseHref"),ND=(()=>{let e=class e extends Ja{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??q(Jd).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Xd(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+kt(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+kt(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+kt(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(se(Qd),se(AD,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var OD=(()=>{let e=class e{constructor(r){this._subject=new oe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=PD(Gd(zd(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+kt(i))}normalize(r){return e.stripTrailingSlash(kD(this._basePath,zd(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+kt(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+kt(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=kt,e.joinWithSlash=Xd,e.stripTrailingSlash=Gd,e.\u0275fac=function(i){return new(i||e)(se(Ja))},e.\u0275prov=H({token:e,factory:()=>FD(),providedIn:"root"});let t=e;return t})();function FD(){return new OD(se(Ja))}function kD(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function zd(t){return t.replace(/\/index.html$/,"")}function PD(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var te=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(te||{}),P=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(P||{}),le=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(le||{}),Ze=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(Ze||{});function RD(t){return _e(t)[G.LocaleId]}function LD(t,e,n){let r=_e(t),i=[r[G.DayPeriodsFormat],r[G.DayPeriodsStandalone]],o=we(i,e);return we(o,n)}function VD(t,e,n){let r=_e(t),i=[r[G.DaysFormat],r[G.DaysStandalone]],o=we(i,e);return we(o,n)}function jD(t,e,n){let r=_e(t),i=[r[G.MonthsFormat],r[G.MonthsStandalone]],o=we(i,e);return we(o,n)}function $D(t,e){let r=_e(t)[G.Eras];return we(r,e)}function Xi(t,e){let n=_e(t);return we(n[G.DateFormat],e)}function eo(t,e){let n=_e(t);return we(n[G.TimeFormat],e)}function to(t,e){let r=_e(t)[G.DateTimeFormat];return we(r,e)}function ao(t,e){let n=_e(t),r=n[G.NumberSymbols][e];if(typeof r>"u"){if(e===Ze.CurrencyDecimal)return n[G.NumberSymbols][Ze.Decimal];if(e===Ze.CurrencyGroup)return n[G.NumberSymbols][Ze.Group]}return r}function ef(t){if(!t[G.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[G.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function BD(t){let e=_e(t);return ef(e),(e[G.ExtraData][2]||[]).map(r=>typeof r=="string"?Ga(r):[Ga(r[0]),Ga(r[1])])}function UD(t,e,n){let r=_e(t);ef(r);let i=[r[G.ExtraData][0],r[G.ExtraData][1]],o=we(i,e)||[];return we(o,n)||[]}function we(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Ga(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var HD=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Yn={},GD=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Ye=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Ye||{}),F=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(F||{}),O=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(O||{});function zD(t,e,n,r){let i=e_(t);e=qe(n,e)||e;let s=[],a;for(;e;)if(a=GD.exec(e),a){s=s.concat(a.slice(1));let l=s.pop();if(!l)break;e=l}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=nf(r,c),i=XD(i,r,!0));let u="";return s.forEach(l=>{let d=JD(l);u+=d?d(i,n,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function so(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function qe(t,e){let n=RD(t);if(Yn[n]=Yn[n]||{},Yn[n][e])return Yn[n][e];let r="";switch(e){case"shortDate":r=Xi(t,le.Short);break;case"mediumDate":r=Xi(t,le.Medium);break;case"longDate":r=Xi(t,le.Long);break;case"fullDate":r=Xi(t,le.Full);break;case"shortTime":r=eo(t,le.Short);break;case"mediumTime":r=eo(t,le.Medium);break;case"longTime":r=eo(t,le.Long);break;case"fullTime":r=eo(t,le.Full);break;case"short":let i=qe(t,"shortTime"),o=qe(t,"shortDate");r=no(to(t,le.Short),[i,o]);break;case"medium":let s=qe(t,"mediumTime"),a=qe(t,"mediumDate");r=no(to(t,le.Medium),[s,a]);break;case"long":let c=qe(t,"longTime"),u=qe(t,"longDate");r=no(to(t,le.Long),[c,u]);break;case"full":let l=qe(t,"fullTime"),d=qe(t,"fullDate");r=no(to(t,le.Full),[l,d]);break}return r&&(Yn[n][e]=r),r}function no(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Oe(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function WD(t,e){return Oe(t,3).substring(0,e)}function W(t,e,n=0,r=!1,i=!1){return function(o,s){let a=qD(t,o);if((n>0||a>-n)&&(a+=n),t===F.Hours)a===0&&n===-12&&(a=12);else if(t===F.FractionalSeconds)return WD(a,e);let c=ao(s,Ze.MinusSign);return Oe(a,e,c,r,i)}}function qD(t,e){switch(t){case F.FullYear:return e.getFullYear();case F.Month:return e.getMonth();case F.Date:return e.getDate();case F.Hours:return e.getHours();case F.Minutes:return e.getMinutes();case F.Seconds:return e.getSeconds();case F.FractionalSeconds:return e.getMilliseconds();case F.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function L(t,e,n=te.Format,r=!1){return function(i,o){return ZD(i,o,t,e,n,r)}}function ZD(t,e,n,r,i,o){switch(n){case O.Months:return jD(e,i,r)[t.getMonth()];case O.Days:return VD(e,i,r)[t.getDay()];case O.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let u=BD(e),l=UD(e,i,r),d=u.findIndex(h=>{if(Array.isArray(h)){let[f,g]=h,m=s>=f.hours&&a>=f.minutes,y=s<g.hours||s===g.hours&&a<g.minutes;if(f.hours<g.hours){if(m&&y)return!0}else if(m||y)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return LD(e,i,r)[s<12?0:1];case O.Eras:return $D(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function ro(t){return function(e,n,r){let i=-1*r,o=ao(n,Ze.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Ye.Short:return(i>=0?"+":"")+Oe(s,2,o)+Oe(Math.abs(i%60),2,o);case Ye.ShortGMT:return"GMT"+(i>=0?"+":"")+Oe(s,1,o);case Ye.Long:return"GMT"+(i>=0?"+":"")+Oe(s,2,o)+":"+Oe(Math.abs(i%60),2,o);case Ye.Extended:return r===0?"Z":(i>=0?"+":"")+Oe(s,2,o)+":"+Oe(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var YD=0,oo=4;function KD(t){let e=so(t,YD,1).getDay();return so(t,0,1+(e<=oo?oo:oo+7)-e)}function tf(t){return so(t.getFullYear(),t.getMonth(),t.getDate()+(oo-t.getDay()))}function za(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=tf(n),s=KD(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Oe(i,t,ao(r,Ze.MinusSign))}}function io(t,e=!1){return function(n,r){let o=tf(n).getFullYear();return Oe(o,t,ao(r,Ze.MinusSign),e)}}var Wa={};function JD(t){if(Wa[t])return Wa[t];let e;switch(t){case"G":case"GG":case"GGG":e=L(O.Eras,P.Abbreviated);break;case"GGGG":e=L(O.Eras,P.Wide);break;case"GGGGG":e=L(O.Eras,P.Narrow);break;case"y":e=W(F.FullYear,1,0,!1,!0);break;case"yy":e=W(F.FullYear,2,0,!0,!0);break;case"yyy":e=W(F.FullYear,3,0,!1,!0);break;case"yyyy":e=W(F.FullYear,4,0,!1,!0);break;case"Y":e=io(1);break;case"YY":e=io(2,!0);break;case"YYY":e=io(3);break;case"YYYY":e=io(4);break;case"M":case"L":e=W(F.Month,1,1);break;case"MM":case"LL":e=W(F.Month,2,1);break;case"MMM":e=L(O.Months,P.Abbreviated);break;case"MMMM":e=L(O.Months,P.Wide);break;case"MMMMM":e=L(O.Months,P.Narrow);break;case"LLL":e=L(O.Months,P.Abbreviated,te.Standalone);break;case"LLLL":e=L(O.Months,P.Wide,te.Standalone);break;case"LLLLL":e=L(O.Months,P.Narrow,te.Standalone);break;case"w":e=za(1);break;case"ww":e=za(2);break;case"W":e=za(1,!0);break;case"d":e=W(F.Date,1);break;case"dd":e=W(F.Date,2);break;case"c":case"cc":e=W(F.Day,1);break;case"ccc":e=L(O.Days,P.Abbreviated,te.Standalone);break;case"cccc":e=L(O.Days,P.Wide,te.Standalone);break;case"ccccc":e=L(O.Days,P.Narrow,te.Standalone);break;case"cccccc":e=L(O.Days,P.Short,te.Standalone);break;case"E":case"EE":case"EEE":e=L(O.Days,P.Abbreviated);break;case"EEEE":e=L(O.Days,P.Wide);break;case"EEEEE":e=L(O.Days,P.Narrow);break;case"EEEEEE":e=L(O.Days,P.Short);break;case"a":case"aa":case"aaa":e=L(O.DayPeriods,P.Abbreviated);break;case"aaaa":e=L(O.DayPeriods,P.Wide);break;case"aaaaa":e=L(O.DayPeriods,P.Narrow);break;case"b":case"bb":case"bbb":e=L(O.DayPeriods,P.Abbreviated,te.Standalone,!0);break;case"bbbb":e=L(O.DayPeriods,P.Wide,te.Standalone,!0);break;case"bbbbb":e=L(O.DayPeriods,P.Narrow,te.Standalone,!0);break;case"B":case"BB":case"BBB":e=L(O.DayPeriods,P.Abbreviated,te.Format,!0);break;case"BBBB":e=L(O.DayPeriods,P.Wide,te.Format,!0);break;case"BBBBB":e=L(O.DayPeriods,P.Narrow,te.Format,!0);break;case"h":e=W(F.Hours,1,-12);break;case"hh":e=W(F.Hours,2,-12);break;case"H":e=W(F.Hours,1);break;case"HH":e=W(F.Hours,2);break;case"m":e=W(F.Minutes,1);break;case"mm":e=W(F.Minutes,2);break;case"s":e=W(F.Seconds,1);break;case"ss":e=W(F.Seconds,2);break;case"S":e=W(F.FractionalSeconds,1);break;case"SS":e=W(F.FractionalSeconds,2);break;case"SSS":e=W(F.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=ro(Ye.Short);break;case"ZZZZZ":e=ro(Ye.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=ro(Ye.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=ro(Ye.Long);break;default:return null}return Wa[t]=e,e}function nf(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function QD(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function XD(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=nf(e,i);return QD(t,r*(o-i))}function e_(t){if(Wd(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return so(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(HD))return t_(r)}let e=new Date(t);if(!Wd(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function t_(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,u),e}function Wd(t){return t instanceof Date&&!isNaN(t.valueOf())}function XM(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var qa=/\s+/,qd=[],eS=(()=>{let e=class e{constructor(r,i,o,s){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=o,this._renderer=s,this.initialClasses=qd,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(qa):qd}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(qa):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(qa).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(v(Hi),v(La),v(Ft),v(ln))},e.\u0275dir=z({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Ya=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},tS=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(!1)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Ya(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),Zd(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);Zd(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(v(Yi),v(Ki),v(Hi))},e.\u0275dir=z({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Zd(t,e){t.context.$implicit=e.item}var nS=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Ka,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Yd("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Yd("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(v(Yi),v(Ki))},e.\u0275dir=z({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Ka=class{constructor(){this.$implicit=null,this.ngIf=null}};function Yd(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Q(e)}'.`)}function n_(t,e){return new x(2100,!1)}var r_="mediumDate",i_=new N("DATE_PIPE_DEFAULT_TIMEZONE"),o_=new N("DATE_PIPE_DEFAULT_OPTIONS"),rS=(()=>{let e=class e{constructor(r,i,o){this.locale=r,this.defaultTimezone=i,this.defaultOptions=o}transform(r,i,o,s){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??r_,c=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return zD(r,a,s||this.locale,c)}catch(a){throw n_(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(v(Ji,16),v(i_,24),v(o_,24))},e.\u0275pipe=Zu({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var iS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ot({type:e}),e.\u0275inj=Nt({});let t=e;return t})(),oS="browser",s_="server";function sS(t){return t===s_}var Kd=class{};var ff=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(v(ln),v(Ft))},e.\u0275dir=z({type:e});let t=e;return t})(),hf=(()=>{let e=class e extends ff{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Gn(e)))(o||e)}})(),e.\u0275dir=z({type:e,features:[ae]});let t=e;return t})(),tr=new N("NgValueAccessor"),a_={provide:tr,useExisting:ye(()=>c_),multi:!0},c_=(()=>{let e=class e extends hf{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Gn(e)))(o||e)}})(),e.\u0275dir=z({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){i&1&&dn("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},features:[$e([a_]),ae]});let t=e;return t})(),u_={provide:tr,useExisting:ye(()=>pf),multi:!0};function l_(){let t=fn()?fn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var d_=new N("CompositionEventMode"),pf=(()=>{let e=class e extends ff{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!l_())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(v(ln),v(Ft),v(d_,8))},e.\u0275dir=z({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&dn("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[$e([u_]),ae]});let t=e;return t})();function ut(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function gf(t){return t!=null&&typeof t.length=="number"}var Pt=new N("NgValidators"),nr=new N("NgAsyncValidators"),f_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,rf=class{static min(e){return h_(e)}static max(e){return p_(e)}static required(e){return mf(e)}static requiredTrue(e){return yf(e)}static email(e){return g_(e)}static minLength(e){return m_(e)}static maxLength(e){return y_(e)}static pattern(e){return v_(e)}static nullValidator(e){return uo(e)}static compose(e){return Cf(e)}static composeAsync(e){return Ef(e)}};function h_(t){return e=>{if(ut(e.value)||ut(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function p_(t){return e=>{if(ut(e.value)||ut(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function mf(t){return ut(t.value)?{required:!0}:null}function yf(t){return t.value===!0?null:{required:!0}}function g_(t){return ut(t.value)||f_.test(t.value)?null:{email:!0}}function m_(t){return e=>ut(e.value)||!gf(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function y_(t){return e=>gf(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function v_(t){if(!t)return uo;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(ut(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function uo(t){return null}function vf(t){return t!=null}function Df(t){return Zn(t)?he(t):t}function _f(t){let e={};return t.forEach(n=>{e=n!=null?re(re({},e),n):e}),Object.keys(e).length===0?null:e}function wf(t,e){return e.map(n=>n(t))}function D_(t){return!t.validate}function bf(t){return t.map(e=>D_(e)?e:n=>e.validate(n))}function Cf(t){if(!t)return null;let e=t.filter(vf);return e.length==0?null:function(n){return _f(wf(n,e))}}function tc(t){return t!=null?Cf(bf(t)):null}function Ef(t){if(!t)return null;let e=t.filter(vf);return e.length==0?null:function(n){let r=wf(n,e).map(Df);return es(r).pipe(ze(_f))}}function nc(t){return t!=null?Ef(bf(t)):null}function of(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function If(t){return t._rawValidators}function xf(t){return t._rawAsyncValidators}function Qa(t){return t?Array.isArray(t)?t:[t]:[]}function lo(t,e){return Array.isArray(t)?t.includes(e):t===e}function sf(t,e){let n=Qa(e);return Qa(t).forEach(i=>{lo(n,i)||n.push(i)}),n}function af(t,e){return Qa(e).filter(n=>!lo(t,n))}var fo=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=tc(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=nc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ke=class extends fo{get formDirective(){return null}get path(){return null}},Je=class extends fo{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ho=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},__={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ES=fe(re({},__),{"[class.ng-submitted]":"isSubmitted"}),IS=(()=>{let e=class e extends ho{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(v(Je,2))},e.\u0275dir=z({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Zi("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[ae]});let t=e;return t})(),xS=(()=>{let e=class e extends ho{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(v(Ke,10))},e.\u0275dir=z({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Zi("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[ae]});let t=e;return t})();var Kn="VALID",co="INVALID",hn="PENDING",Jn="DISABLED";function rc(t){return(yo(t)?t.validators:t)||null}function w_(t){return Array.isArray(t)?tc(t):t||null}function ic(t,e){return(yo(e)?e.asyncValidators:t)||null}function b_(t){return Array.isArray(t)?nc(t):t||null}function yo(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Mf(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new x(1e3,"");if(!r[n])throw new x(1001,"")}function Sf(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new x(1002,"")})}var pn=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Kn}get invalid(){return this.status===co}get pending(){return this.status==hn}get disabled(){return this.status===Jn}get enabled(){return this.status!==Jn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(sf(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sf(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(af(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(af(e,this._rawAsyncValidators))}hasValidator(e){return lo(this._rawValidators,e)}hasAsyncValidator(e){return lo(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=hn,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Jn,this.errors=null,this._forEachChild(r=>{r.disable(fe(re({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(fe(re({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Kn,this._forEachChild(r=>{r.enable(fe(re({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(fe(re({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Kn||this.status===hn)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jn:Kn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=hn,this._hasOwnPendingAsyncValidator=!0;let n=Df(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new oe,this.statusChanges=new oe}_calculateStatus(){return this._allControlsDisabled()?Jn:this.errors?co:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hn)?hn:this._anyControlsHaveStatus(co)?co:Kn}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yo(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=w_(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=b_(this._rawAsyncValidators)}},gn=class extends pn{constructor(e,n,r){super(rc(n),ic(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Sf(this,!0,e),Object.keys(e).forEach(r=>{Mf(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Xa=class extends gn{};var mn=new N("CallSetDisabledState",{providedIn:"root",factory:()=>vo}),vo="always";function Tf(t,e){return[...e.path,t]}function er(t,e,n=vo){oc(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),E_(t,e),x_(t,e),I_(t,e),C_(t,e)}function po(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),mo(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function go(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function C_(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function oc(t,e){let n=If(t);e.validator!==null?t.setValidators(of(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=xf(t);e.asyncValidator!==null?t.setAsyncValidators(of(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();go(e._rawValidators,i),go(e._rawAsyncValidators,i)}function mo(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=If(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=xf(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return go(e._rawValidators,r),go(e._rawAsyncValidators,r),n}function E_(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Af(t,e)})}function I_(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Af(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Af(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function x_(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Nf(t,e){t==null,oc(t,e)}function M_(t,e){return mo(t,e)}function sc(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function S_(t){return Object.getPrototypeOf(t.constructor)===hf}function Of(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ac(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===pf?n=o:S_(o)?r=o:i=o}),i||r||n||null}function T_(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var A_={provide:Ke,useExisting:ye(()=>N_)},Qn=(()=>Promise.resolve())(),N_=(()=>{let e=class e extends Ke{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new oe,this.form=new gn({},tc(r),nc(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Qn.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),er(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Qn.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Qn.then(()=>{let i=this._findContainer(r.path),o=new gn({});Nf(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Qn.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Qn.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,Of(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(v(Pt,10),v(nr,10),v(mn,8))},e.\u0275dir=z({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&dn("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$e([A_]),ae]});let t=e;return t})();function cf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function uf(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Xn=class extends pn{constructor(e=null,n,r){super(rc(n),ic(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yo(n)&&(n.nonNullable||n.initialValueIsDefault)&&(uf(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){cf(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){cf(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){uf(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var O_=t=>t instanceof Xn;var F_={provide:Je,useExisting:ye(()=>k_)},lf=(()=>Promise.resolve())(),k_=(()=>{let e=class e extends Je{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new Xn,this._registered=!1,this.name="",this.update=new oe,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=ac(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),sc(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){er(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){lf.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Qi(i);lf.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Tf(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(v(Ke,9),v(Pt,10),v(nr,10),v(tr,10),v(Ba,8),v(mn,8))},e.\u0275dir=z({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$e([F_]),ae,st]});let t=e;return t})(),SS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=z({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var P_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ot({type:e}),e.\u0275inj=Nt({});let t=e;return t})();var cc=new N("NgModelWithFormControlWarning"),R_={provide:Je,useExisting:ye(()=>L_)},L_=(()=>{let e=class e extends Je{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=a,this.update=new oe,this._ngModelWarningSent=!1,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ac(this,o)}ngOnChanges(r){if(this._isControlChanged(r)){let i=r.form.previousValue;i&&po(i,this,!1),er(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}sc(r,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&po(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_isControlChanged(r){return r.hasOwnProperty("form")}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(v(Pt,10),v(nr,10),v(tr,10),v(cc,8),v(mn,8))},e.\u0275dir=z({type:e,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[$e([R_]),ae,st]});let t=e;return t})(),V_={provide:Ke,useExisting:ye(()=>j_)},j_=(()=>{let e=class e extends Ke{constructor(r,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new oe,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mo(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return er(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){po(r.control||null,r,!1),T_(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,Of(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(po(i||null,r),O_(o)&&(er(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);Nf(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&M_(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){oc(this.form,this),this._oldForm&&mo(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(v(Pt,10),v(nr,10),v(mn,8))},e.\u0275dir=z({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&dn("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$e([V_]),ae,st]});let t=e;return t})();var $_={provide:Je,useExisting:ye(()=>B_)},B_=(()=>{let e=class e extends Je{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new oe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=ac(this,s)}ngOnChanges(r){this._added||this._setUpControl(),sc(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return Tf(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(v(Ke,13),v(Pt,10),v(nr,10),v(tr,10),v(cc,8))},e.\u0275dir=z({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[$e([$_]),ae,st]});let t=e;return t})();var U_=(()=>{let e=class e{constructor(){this._validator=uo}ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):uo,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=z({type:e,features:[st]});let t=e;return t})();var H_={provide:Pt,useExisting:ye(()=>Ff),multi:!0},G_={provide:Pt,useExisting:ye(()=>z_),multi:!0},Ff=(()=>{let e=class e extends U_{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Qi,this.createValidator=r=>mf}enabled(r){return r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Gn(e)))(o||e)}})(),e.\u0275dir=z({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&qi("required",o._enabled?"":null)},inputs:{required:"required"},features:[$e([H_]),ae]});let t=e;return t})(),z_=(()=>{let e=class e extends Ff{constructor(){super(...arguments),this.createValidator=r=>yf}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Gn(e)))(o||e)}})(),e.\u0275dir=z({type:e,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&qi("required",o._enabled?"":null)},features:[$e([G_]),ae]});let t=e;return t})();var kf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ot({type:e}),e.\u0275inj=Nt({imports:[P_]});let t=e;return t})(),ec=class extends pn{constructor(e,n,r){super(rc(n),ic(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Sf(this,!1,e),e.forEach((r,i)=>{Mf(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function df(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var TS=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let o=this._reduceControls(r),s={};return df(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new gn(o,s)}record(r,i=null){let o=this._reduceControls(r);return new Xa(o,i)}control(r,i,o){let s={};return this.useNonNullable?(df(i)?s=i:(s.validators=i,s.asyncValidators=o),new Xn(r,fe(re({},s),{nonNullable:!0}))):new Xn(r,i,o)}array(r,i,o){let s=r.map(a=>this._createControl(a));return new ec(s,i,o)}_reduceControls(r){let i={};return Object.keys(r).forEach(o=>{i[o]=this._createControl(r[o])}),i}_createControl(r){if(r instanceof Xn)return r;if(r instanceof pn)return r;if(Array.isArray(r)){let i=r[0],o=r.length>1?r[1]:null,s=r.length>2?r[2]:null;return this.control(i,o,s)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var AS=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:mn,useValue:r.callSetDisabledState??vo}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ot({type:e}),e.\u0275inj=Nt({imports:[kf]});let t=e;return t})(),NS=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:cc,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:mn,useValue:r.callSetDisabledState??vo}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ot({type:e}),e.\u0275inj=Nt({imports:[kf]});let t=e;return t})();var Pf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-MMBXPJOW.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};var rr=class extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}},Do=class extends rr{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},_o=class extends rr{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},wo=class extends rr{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var W_=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},ir=class{constructor(e,{headers:n={},customFetch:r}={}){this.url=e,this.headers=n,this.fetch=Pf(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return W_(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:s}=n,a={},c;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));let u=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(f=>{throw new Do(f)}),l=u.headers.get("x-relay-error");if(l&&l==="true")throw new _o(u);if(!u.ok)throw new wo(u);let d=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return d==="application/json"?h=yield u.json():d==="application/octet-stream"?h=yield u.blob():d==="multipart/form-data"?h=yield u.formData():h=yield u.text(),{data:h,error:null}}catch(i){return{data:null,error:i}}})}};var Rf=$o(vc());var or=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Rf.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>p(this,null,function*(){var s,a,c;let u=null,l=null,d=null,h=o.status,f=o.statusText;if(o.ok){if(this.method!=="HEAD"){let D=yield o.text();D===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?l=D:l=JSON.parse(D))}let m=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),y=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&y&&y.length>1&&(d=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(l)&&(l.length>1?(u={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,d=null,h=406,f="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{let m=yield o.text();try{u=JSON.parse(m),Array.isArray(u)&&o.status===404&&(l=[],u=null,h=200,f="OK")}catch{o.status===404&&m===""?(h=204,f="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u?.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,f="OK"),u&&this.shouldThrowOnError)throw u}return{error:u,data:l,count:d,status:h,statusText:f}}));return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,c;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=o?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}};var sr=class extends or{select(e){let n=!1,r=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i}={}){let o=i?`${i}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n}={}){let r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,n,{foreignTable:r}={}){let i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){let a=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${c}"; options=${a};`,s==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};var Fe=class extends sr{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){let r=n.map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${s}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n}={}){let r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};var ar=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){let i=n?"HEAD":"GET",o=!1,s=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Fe({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){let s=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Fe({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){let c=e.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(c.length>0){let u=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new Fe({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Fe({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){let n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Fe({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};var Lf="1.8.5";var Vf={"X-Client-Info":`postgrest-js/${Lf}`};var cr=class t{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},Vf),n),this.schemaName=r,this.fetch=i}from(e){let n=new URL(`${this.url}/${e}`);return new ar(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new t(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,count:i}={}){let o,s=new URL(`${this.url}/rpc/${e}`),a;r?(o="HEAD",Object.entries(n).forEach(([u,l])=>{s.searchParams.append(u,`${l}`)})):(o="POST",a=n);let c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Fe({method:o,url:s,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};var Xf=$o(qf());var Zf="2.8.4";var Yf={"X-Client-Info":`realtime-js/${Zf}`},Kf="1.0.0",bo=1e4,Jf=1e3,lr=function(t){return t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed",t}(lr||{}),de=function(t){return t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving",t}(de||{}),be=function(t){return t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token",t}(be||{}),uc=function(t){return t.websocket="websocket",t}(uc||{}),Lt=function(t){return t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed",t}(Lt||{});var yn=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Co=class{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){let n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){let i=n.getUint8(1),o=n.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(e.slice(s,s+i));s=s+i;let c=r.decode(e.slice(s,s+o));s=s+o;let u=JSON.parse(r.decode(e.slice(s,e.byteLength)));return{ref:null,topic:a,event:c,payload:u}}};var vn=class{constructor(e,n,r={},i=bo){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var dr=class t{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=t.syncState(this.state,i,o,s),this.pendingDiffs.forEach(c=>{this.state=t.syncDiff(this.state,c,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=t.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){let o=this.cloneDeep(e),s=this.transformState(n),a={},c={};return this.map(o,(u,l)=>{s[u]||(c[u]=l)}),this.map(s,(u,l)=>{let d=o[u];if(d){let h=l.map(y=>y.presence_ref),f=d.map(y=>y.presence_ref),g=l.filter(y=>f.indexOf(y.presence_ref)<0),m=d.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(a[u]=g),m.length>0&&(c[u]=m)}else a[u]=l}),this.syncDiff(o,{joins:a,leaves:c},r,i)}static syncDiff(e,n,r,i){let{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,c)=>{var u;let l=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(c),l.length>0){let d=e[a].map(f=>f.presence_ref),h=l.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}r(a,l,c)}),this.map(s,(a,c)=>{let u=e[a];if(!u)return;let l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),e[a]=u,i(a,u,c),u.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{let i=e[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var $=function(t){return t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange",t}($||{}),dc=(t,e,n={})=>{var r;let i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,s)=>(o[s]=Y_(s,t,e,i),o),{})},Y_=(t,e,n,r)=>{let i=e.find(a=>a.name===t),o=i?.type,s=n[t];return o&&!r.includes(o)?Qf(o,s):lc(s)},Qf=(t,e)=>{if(t.charAt(0)==="_"){let n=t.slice(1,t.length);return X_(e,n)}switch(t){case $.bool:return K_(e);case $.float4:case $.float8:case $.int2:case $.int4:case $.int8:case $.numeric:case $.oid:return J_(e);case $.json:case $.jsonb:return Q_(e);case $.timestamp:return ew(e);case $.abstime:case $.date:case $.daterange:case $.int4range:case $.int8range:case $.money:case $.reltime:case $.text:case $.time:case $.timestamptz:case $.timetz:case $.tsrange:case $.tstzrange:return lc(e);default:return lc(e)}},lc=t=>t,K_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},J_=t=>{if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Q_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},X_=(t,e)=>{if(typeof t!="string")return t;let n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o,s=t.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>Qf(e,a))}return t},ew=t=>typeof t=="string"?t.replace(" ","T"):t;var fr=class t{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=de.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},n.config),this.timeout=this.socket.timeout,this.joinPush=new vn(this,be.join,this.params,this.timeout),this.rejoinTimer=new yn(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=de.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=de.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this._on(be.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new dr(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:o,presence:s}}=this.params;this._onError(u=>e&&e("CHANNEL_ERROR",u)),this._onClose(()=>e&&e("CLOSED"));let a={},c={broadcast:o,presence:s,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&i!==void 0?i:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:u})=>{var l;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),u===void 0){e&&e("SUBSCRIBED");return}else{let d=this.bindings.postgres_changes,h=(l=d?.length)!==null&&l!==void 0?l:0,f=[];for(let g=0;g<h;g++){let m=d[g],{filter:{event:y,schema:D,table:U,filter:B}}=m,R=u&&u[g];if(R&&R.event===y&&R.schema===D&&R.table===U&&R.filter===B)f.push(Object.assign(Object.assign({},m),{id:R.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,e&&e("SUBSCRIBED");return}}).receive("error",u=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(r){return p(this,arguments,function*(e,n={}){return yield this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)})}untrack(){return p(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,n,r){return this._on(e,n,r)}send(r){return p(this,arguments,function*(e,n={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){let{event:s,payload:a}=e,c={method:"POST",headers:{apikey:(i=this.socket.accessToken)!==null&&i!==void 0?i:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a}]})};try{return(yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=n.timeout)!==null&&o!==void 0?o:this.timeout)).ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,u;let l=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),l.receive("ok",()=>s("ok")),l.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=de.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(be.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let i=new vn(this,be.leave,{},e);i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}_fetchWithTimeout(e,n,r){return p(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),s=yield this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s})}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new vn(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,o;let s=e.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=be;if(r&&[a,c,u,l].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var g,m,y;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(m=f.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var g,m,y,D,U,B;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let R=f.id,ne=(g=f.filter)===null||g===void 0?void 0:g.event;return R&&((m=n.ids)===null||m===void 0?void 0:m.includes(R))&&(ne==="*"||ne?.toLocaleLowerCase()===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{let R=(U=(D=f?.filter)===null||D===void 0?void 0:D.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return R==="*"||R===((B=n?.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){let g=h.data,{schema:m,table:y,commit_timestamp:D,type:U,errors:B}=g;h=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:D,eventType:U,new:{},old:{},errors:B}),this._getPayloadRecords(g))}f.callback(h,r)})}_isClosed(){return this.state===de.closed}_isJoined(){return this.state===de.joined}_isJoining(){return this.state===de.joining}_isLeaving(){return this.state===de.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){let i=e.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,n){let r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&t.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(let r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(be.close,{},e)}_onError(e){this._on(be.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=de.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=dc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=dc(e.columns,e.old_record)),n}};var nw=()=>{},hr=class{constructor(e,n){var r;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=Yf,this.params={},this.timeout=bo,this.transport=Xf.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=nw,this.conn=null,this.sendBuffer=[],this.serializer=new Co,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...a)=>import("./chunk-MMBXPJOW.js").then(({default:c})=>c(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${e}/${uc.websocket}`,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.transport&&(this.transport=n.transport),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);let i=(r=n?.params)===null||r===void 0?void 0:r.apikey;i&&(this.accessToken=i),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n?.encode?n.encode:(o,s)=>s(JSON.stringify(o)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new yn(()=>p(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return p(this,null,function*(){let n=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return p(this,null,function*(){let e=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e})}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case lr.connecting:return Lt.Connecting;case lr.open:return Lt.Open;case lr.closing:return Lt.Closing;default:return Lt.Closed}}isConnected(){return this.connectionState()===Lt.Open}channel(e,n={config:{}}){let r=new fr(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){let{topic:n,event:r,payload:i,ref:o}=e,s=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(e){this.accessToken=e,this.channels.forEach(n=>{e&&n.updateJoinPayload({access_token:e}),n.joinedOnce&&n._isJoined()&&n._push(be.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Kf}))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:o,ref:s}=n;(s&&s===this.pendingHeartbeatRef||i===o?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${s&&"("+s+")"||""}`,o),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(i,o,s)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(be.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;let r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Jf,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}};var Dn=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function J(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Eo=class extends Dn{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}},pr=class extends Dn{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}};var rw=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},Io=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-MMBXPJOW.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},eh=()=>rw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-MMBXPJOW.js")).Response:Response});var _n=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},fc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),iw=(t,e)=>_n(void 0,void 0,void 0,function*(){let n=yield eh();t instanceof n?t.json().then(r=>{e(new Eo(fc(r),t.status||500))}).catch(r=>{e(new pr(fc(r),r))}):e(new pr(fc(t),t))}),ow=(t,e,n,r)=>{let i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function xo(t,e,n,r,i,o){return _n(this,void 0,void 0,function*(){return new Promise((s,a)=>{t(n,ow(e,r,i,o)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>iw(c,a))})})}function gr(t,e,n,r){return _n(this,void 0,void 0,function*(){return xo(t,"GET",e,n,r)})}function Be(t,e,n,r,i){return _n(this,void 0,void 0,function*(){return xo(t,"POST",e,r,i,n)})}function th(t,e,n,r,i){return _n(this,void 0,void 0,function*(){return xo(t,"PUT",e,r,i,n)})}function Mo(t,e,n,r,i){return _n(this,void 0,void 0,function*(){return xo(t,"DELETE",e,r,i,n)})}var Ce=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},sw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},So=class{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=Io(i)}uploadOrUpdate(e,n,r,i){return Ce(this,void 0,void 0,function*(){try{let o,s=Object.assign(Object.assign({},nh),i),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(s.upsert)});typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl)):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType);let c=this._removeEmptyFolders(n),u=this._getFinalPath(c),l=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:o,headers:a},s?.duplex?{duplex:s.duplex}:{}));return l.ok?{data:{path:c},error:null}:{data:null,error:yield l.json()}}catch(o){if(J(o))return{data:null,error:o};throw o}})}upload(e,n,r){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Ce(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(e),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c,u=Object.assign({upsert:nh.upsert},i),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:l});return d.ok?{data:{path:o},error:null}:{data:null,error:yield d.json()}}catch(c){if(J(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e){return Ce(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),r=yield Be(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:this.headers}),i=new URL(this.url+r.url),o=i.searchParams.get("token");if(!o)throw new Dn("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:o},error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}})}update(e,n,r){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n){return Ce(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers}),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}})}copy(e,n){return Ce(this,void 0,void 0,function*(){try{return{data:{path:(yield Be(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers})).Key},error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,r){return Ce(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield Be(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(J(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Ce(this,void 0,void 0,function*(){try{let i=yield Be(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(J(i))return{data:null,error:i};throw i}})}download(e,n){return Ce(this,void 0,void 0,function*(){let i=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),s=o?`?${o}`:"";try{let a=this._getFinalPath(e);return{data:yield(yield gr(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(J(a))return{data:null,error:a};throw a}})}getPublicUrl(e,n){let r=this._getFinalPath(e),i=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield Mo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ce(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},sw),n),{prefix:e||""});return{data:yield Be(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(J(i))return{data:null,error:i};throw i}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}};var rh="2.5.4";var ih={"X-Client-Info":`storage-js/${rh}`};var wn=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},To=class{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},ih),n),this.fetch=Io(r)}listBuckets(){return wn(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(J(e))return{data:null,error:e};throw e}})}getBucket(e){return wn(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return wn(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return wn(this,void 0,void 0,function*(){try{return{data:yield th(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}})}emptyBucket(e){return wn(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}})}deleteBucket(e){return wn(this,void 0,void 0,function*(){try{return{data:yield Mo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}})}};var mr=class extends To{constructor(e,n={},r){super(e,n,r)}from(e){return new So(this.url,this.headers,e,this.fetch)}};var oh="2.38.4";var yr="";typeof Deno<"u"?yr="deno":typeof document<"u"?yr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yr="react-native":yr="node";var sh={"X-Client-Info":`supabase-js-${yr}/${oh}`};var Ao=$o(vc()),aw=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},cw=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ao.default:e=fetch,(...n)=>e(...n)},uw=()=>typeof Headers>"u"?Ao.Headers:Headers,ah=(t,e,n)=>{let r=cw(n),i=uw();return(o,s)=>aw(void 0,void 0,void 0,function*(){var a;let c=(a=yield e())!==null&&a!==void 0?a:t,u=new i(s?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},s),{headers:u}))})};function ch(t){return t.replace(/\/$/,"")}function uh(t,e){let{db:n,auth:r,realtime:i,global:o}=t,{db:s,auth:a,realtime:c,global:u}=e;return{db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),i),global:Object.assign(Object.assign({},u),o)}}function lh(t){return Math.round(Date.now()/1e3)+t}function dh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}var Ue=()=>typeof document<"u",Vt={tested:!1,writable:!1},lt=()=>{if(!Ue())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vt.tested)return Vt.writable;let t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Vt.tested=!0,Vt.writable=!0}catch{Vt.tested=!0,Vt.writable=!1}return Vt.writable};function No(t){let e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}var Oo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>import("./chunk-MMBXPJOW.js").then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},fh=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",dt=(t,e,n)=>p(void 0,null,function*(){yield t.setItem(e,JSON.stringify(n))}),Dr=(t,e)=>p(void 0,null,function*(){let n=yield t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),Fo=(t,e)=>p(void 0,null,function*(){yield t.removeItem(e)});function lw(t){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",r,i,o,s,a,c,u,l=0;for(t=t.replace("-","+").replace("_","/");l<t.length;)s=e.indexOf(t.charAt(l++)),a=e.indexOf(t.charAt(l++)),c=e.indexOf(t.charAt(l++)),u=e.indexOf(t.charAt(l++)),r=s<<2|a>>4,i=(a&15)<<4|c>>2,o=(c&3)<<6|u,n=n+String.fromCharCode(r),c!=64&&i!=0&&(n=n+String.fromCharCode(i)),u!=64&&o!=0&&(n=n+String.fromCharCode(o));return n}var vr=class t{constructor(){this.promise=new t.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};vr.promiseConstructor=Promise;function hc(t){let e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");let r=n[1];return JSON.parse(lw(r))}function hh(t){return p(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),t)})})}function ph(t,e){return new Promise((r,i)=>{p(this,null,function*(){for(let o=0;o<1/0;o++)try{let s=yield t(o);if(!e(o,null,s)){r(s);return}}catch(s){if(!e(o,s)){i(s);return}}})})}function dw(t){return("0"+t.toString(16)).substr(-2)}function jt(){let e=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,dw).join("")}function fw(t){return p(this,null,function*(){let n=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function hw(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function $t(t){return p(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;let n=yield fw(t);return hw(n)})}var _r=class extends Error{constructor(e,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n}};function S(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}var ko=class extends _r{constructor(e,n){super(e,n),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}};function gh(t){return S(t)&&t.name==="AuthApiError"}var bn=class extends _r{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}},ft=class extends _r{constructor(e,n,r){super(e),this.name=n,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Qe=class extends ft{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}},Cn=class extends ft{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}},Bt=class extends ft{constructor(e){super(e,"AuthInvalidCredentialsError",400)}},Ut=class extends ft{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},wr=class extends ft{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},En=class extends ft{constructor(e,n){super(e,"AuthRetryableFetchError",n)}};function pc(t){return S(t)&&t.name==="AuthRetryableFetchError"}var pw=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},br=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),gw=[502,503,504];function mh(t){return p(this,null,function*(){if(!fh(t))throw new En(br(t),0);if(gw.includes(t.status))throw new En(br(t),t.status);let e;try{e=yield t.json()}catch(n){throw new bn(br(n),n)}throw new ko(br(e),t.status||500)})}var mw=(t,e,n,r)=>{let i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function A(t,e,n,r){return p(this,null,function*(){var i;let o=Object.assign({},r?.headers);r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield yw(t,e,n+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function yw(t,e,n,r,i,o){return p(this,null,function*(){let s=mw(e,r,i,o),a;try{a=yield t(n,s)}catch(c){throw console.error(c),new En(br(c),0)}if(a.ok||(yield mh(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield mh(c)}})}function Xe(t){var e;let n=null;vw(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=lh(t.expires_in)));let r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function He(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function yh(t){return{data:t,error:null}}function vh(t){let{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=t,s=pw(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function Dh(t){return t}function vw(t){return t.access_token&&t.refresh_token&&t.expires_in}var Dw=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Cr=class{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Oo(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e,n="global"){return p(this,null,function*(){try{return yield A(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(S(r))return{data:null,error:r};throw r}})}inviteUserByEmail(r){return p(this,arguments,function*(e,n={}){try{return yield A(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:He})}catch(i){if(S(i))return{data:{user:null},error:i};throw i}})}generateLink(e){return p(this,null,function*(){try{let{options:n}=e,r=Dw(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield A(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:vh,redirectTo:n?.redirectTo})}catch(n){if(S(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(e){return p(this,null,function*(){try{return yield A(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:He})}catch(n){if(S(n))return{data:{user:null},error:n};throw n}})}listUsers(e){return p(this,null,function*(){var n,r,i,o,s,a,c;try{let u={nextPage:null,lastPage:0,total:0},l=yield A(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Dh});if(l.error)throw l.error;let d=yield l.json(),h=(s=l.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(S(u))return{data:{users:[]},error:u};throw u}})}getUserById(e){return p(this,null,function*(){try{return yield A(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:He})}catch(n){if(S(n))return{data:{user:null},error:n};throw n}})}updateUserById(e,n){return p(this,null,function*(){try{return yield A(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:He})}catch(r){if(S(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,n=!1){return p(this,null,function*(){try{return yield A(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:He})}catch(r){if(S(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return p(this,null,function*(){try{let{data:n,error:r}=yield A(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(S(n))return{data:null,error:n};throw n}})}_deleteFactor(e){return p(this,null,function*(){try{return{data:yield A(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(S(n))return{data:null,error:n};throw n}})}};var Po="2.57.0";var _h="http://localhost:9999",wh="supabase.auth.token";var bh={"X-Client-Info":`gotrue-js/${Po}`},gc=10;var Ch={getItem:t=>lt()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{lt()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{lt()&&globalThis.localStorage.removeItem(t)}};function mc(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Eh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var _w={debug:!!(globalThis&&lt()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Ro=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}};Eh();var ww={url:_h,storageKey:wh,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bh,flowType:"implicit",debug:!1},Er=30*1e3,Ih=3;function bw(t,e,n){return p(this,null,function*(){return yield n()})}var yc=(()=>{class t{constructor(n){var r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=t.nextInstanceID,t.nextInstanceID+=1,this.instanceID>0&&Ue()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},ww),n);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Cr({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Oo(i.fetch),this.lock=i.lock||bw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:lt()?this.storage=Ch:(this.memoryStorage={},this.storage=mc(this.memoryStorage)):(this.memoryStorage={},this.storage=mc(this.memoryStorage)),Ue()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",o=>p(this,null,function*(){this._debug("received broadcast notification from other tab or client",o),yield this._notifyAllSubscribers(o.data.event,o.data.session,!1)}))}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Po}) ${new Date().toISOString()}`,...n),this}initialize(){return p(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=(()=>p(this,null,function*(){return yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._initialize()}))}))(),yield this.initializePromise)})}_initialize(){return p(this,null,function*(){try{let n=Ue()?yield this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",n),n||this.detectSessionInUrl&&this._isImplicitGrantFlow()){let{data:r,error:i}=yield this._getSessionFromURL(n);if(i)return this._debug("#_initialize()","error detecting session from URL",i),yield this._removeSession(),{error:i};let{session:o,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),yield this._saveSession(o),setTimeout(()=>p(this,null,function*(){s==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",o):yield this._notifyAllSubscribers("SIGNED_IN",o)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(n){return S(n)?{error:n}:{error:new bn("Unexpected error during initialization",n)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signUp(n){return p(this,null,function*(){var r,i,o;try{yield this._removeSession();let s;if("email"in n){let{email:d,password:h,options:f}=n,g=null,m=null;if(this.flowType==="pkce"){let y=jt();yield dt(this.storage,`${this.storageKey}-code-verifier`,y),g=yield $t(y),m=y===g?"plain":"s256"}s=yield A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:m},xform:Xe})}else if("phone"in n){let{phone:d,password:h,options:f}=n;s=yield A(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(o=f?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Xe})}else throw new Bt("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let u=a.session,l=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(s){if(S(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(n){return p(this,null,function*(){try{yield this._removeSession();let r;if("email"in n){let{email:s,password:a,options:c}=n;r=yield A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Xe})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=yield A(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Xe})}else throw new Bt("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Cn}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:{user:i.user,session:i.session},error:o})}catch(r){if(S(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(n){return p(this,null,function*(){var r,i,o,s;return yield this._removeSession(),yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(n){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._exchangeCodeForSession(n)}))})}_exchangeCodeForSession(n){return p(this,null,function*(){let r=yield Dr(this.storage,`${this.storageKey}-code-verifier`),{data:i,error:o}=yield A(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:Xe});return yield Fo(this.storage,`${this.storageKey}-code-verifier`),o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Cn}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:i,error:o})})}signInWithIdToken(n){return p(this,null,function*(){yield this._removeSession();try{let{options:r,provider:i,token:o,access_token:s,nonce:a}=n,c=yield A(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Xe}),{data:u,error:l}=c;return l?{data:{user:null,session:null},error:l}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Cn}:(u.session&&(yield this._saveSession(u.session),yield this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:l})}catch(r){if(S(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(n){return p(this,null,function*(){var r,i,o,s,a;try{if(yield this._removeSession(),"email"in n){let{email:c,options:u}=n,l=null,d=null;if(this.flowType==="pkce"){let f=jt();yield dt(this.storage,`${this.storageKey}-code-verifier`,f),l=yield $t(f),d=f===l?"plain":"s256"}let{error:h}=yield A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=u?.data)!==null&&r!==void 0?r:{},create_user:(i=u?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:l,code_challenge_method:d},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in n){let{phone:c,options:u}=n,{data:l,error:d}=yield A(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=u?.data)!==null&&o!==void 0?o:{},create_user:(s=u?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u?.captchaToken},channel:(a=u?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:l?.message_id},error:d}}throw new Bt("You must provide either an email or phone number.")}catch(c){if(S(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(n){return p(this,null,function*(){var r,i;try{n.type!=="email_change"&&n.type!=="phone_change"&&(yield this._removeSession());let o,s;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(i=n.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:c}=yield A(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Xe});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let u=a.session,l=a.user;return u?.access_token&&(yield this._saveSession(u),yield this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(o){if(S(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(n){return p(this,null,function*(){var r,i,o;try{yield this._removeSession();let s=null,a=null;if(this.flowType==="pkce"){let c=jt();yield dt(this.storage,`${this.storageKey}-code-verifier`,c),s=yield $t(c),a=c===s?"plain":"s256"}return yield A(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:yh})}catch(s){if(S(s))return{data:null,error:s};throw s}})}reauthenticate(){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return p(this,null,function*(){try{return yield this._useSession(n=>p(this,null,function*(){let{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new Qe;let{error:o}=yield A(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(n){if(S(n))return{data:{user:null,session:null},error:n};throw n}})}resend(n){return p(this,null,function*(){try{n.type!="email_change"&&n.type!="phone_change"&&(yield this._removeSession());let r=`${this.url}/resend`;if("email"in n){let{email:i,type:o,options:s}=n,{error:a}=yield A(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in n){let{phone:i,type:o,options:s}=n,{data:a,error:c}=yield A(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new Bt("You must provide either an email or phone number and a type")}catch(r){if(S(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return p(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return this._useSession(n=>p(this,null,function*(){return n}))}))})}_acquireLock(n,r){return p(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(()=>p(this,null,function*(){return yield i,yield r()}))();return this.pendingInLock.push((()=>p(this,null,function*(){try{yield o}catch{}}))()),o}return yield this.lock(`lock:${this.storageKey}`,n,()=>p(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push((()=>p(this,null,function*(){try{yield i}catch{}}))()),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return p(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return p(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield Dr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let i=n.expires_at?n.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i)return{data:{session:n},error:null};let{session:o,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(n){return p(this,null,function*(){return n?yield this._getUser(n):(yield this.initializePromise,this._acquireLock(-1,()=>p(this,null,function*(){return yield this._getUser()})))})}_getUser(n){return p(this,null,function*(){try{return n?yield A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:He}):yield this._useSession(r=>p(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)throw a;return yield A(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:He})}))}catch(r){if(S(r))return{data:{user:null},error:r};throw r}})}updateUser(i){return p(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(i){return p(this,arguments,function*(n,r={}){try{return yield this._useSession(o=>p(this,null,function*(){let{data:s,error:a}=o;if(a)throw a;if(!s.session)throw new Qe;let c=s.session,u=null,l=null;if(this.flowType==="pkce"&&n.email!=null){let f=jt();yield dt(this.storage,`${this.storageKey}-code-verifier`,f),u=yield $t(f),l=f===u?"plain":"s256"}let{data:d,error:h}=yield A(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:u,code_challenge_method:l}),jwt:c.access_token,xform:He});if(h)throw h;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(o){if(S(o))return{data:{user:null},error:o};throw o}})}_decodeJWT(n){return hc(n)}setSession(n){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return p(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new Qe;let r=Date.now()/1e3,i=r,o=!0,s=null,a=hc(n.access_token);if(a.exp&&(i=a.exp,o=i<=r),o){let{session:c,error:u}=yield this._callRefreshToken(n.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:u}=yield this._getUser(n.access_token);if(u)throw u;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(S(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(n){return p(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(i=a.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new Qe;let{session:o,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(S(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(n){return p(this,null,function*(){try{if(!Ue())throw new Ut("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Ut("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!n)throw new wr("Not a valid PKCE flow url.");let r=No(window.location.href);if(n){if(!r.code)throw new wr("No code detected.");let{data:B,error:R}=yield this._exchangeCodeForSession(r.code);if(R)throw R;let ne=new URL(window.location.href);return ne.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ne.toString()),{data:{session:B.session,redirectType:null},error:null}}if(r.error||r.error_description||r.error_code)throw new Ut(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});let{provider_token:i,provider_refresh_token:o,access_token:s,refresh_token:a,expires_in:c,expires_at:u,token_type:l}=r;if(!s||!c||!a||!l)throw new Ut("No session defined in URL");let d=Math.round(Date.now()/1e3),h=parseInt(c),f=d+h;u&&(f=parseInt(u));let g=f-d;g*1e3<=Er&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);let m=f-h;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",m,f,d);let{data:y,error:D}=yield this._getUser(s);if(D)throw D;let U={provider_token:i,provider_refresh_token:o,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:l,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:U,redirectType:r.type},error:null}}catch(r){if(S(r))return{data:{session:null,redirectType:null},error:r};throw r}})}_isImplicitGrantFlow(){let n=No(window.location.href);return!!(Ue()&&(n.access_token||n.error_description))}_isPKCEFlow(){return p(this,null,function*(){let n=No(window.location.href),r=yield Dr(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return p(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return p(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>p(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{error:s};let a=(i=o.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:c}=yield this.admin.signOut(a,n);if(c&&!(gh(c)&&(c.status===404||c.status===401)))return{error:c}}return n!=="others"&&(yield this._removeSession(),yield Fo(this.storage,`${this.storageKey}-code-verifier`),yield this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}}))})}onAuthStateChange(n){let r=dh(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),p(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(n){return p(this,null,function*(){return yield this._useSession(r=>p(this,null,function*(){var i,o;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}}))})}resetPasswordForEmail(i){return p(this,arguments,function*(n,r={}){let o=null,s=null;if(this.flowType==="pkce"){let a=jt();yield dt(this.storage,`${this.storageKey}-code-verifier`,a),o=yield $t(a),s=a===o?"plain":"s256"}try{return yield A(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(S(a))return{data:null,error:a};throw a}})}_refreshAccessToken(n){return p(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield ph(o=>p(this,null,function*(){return yield hh(o*200),this._debug(r,"refreshing attempt",o),yield A(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Xe})}),(o,s,a)=>a&&a.error&&pc(a.error)&&Date.now()+(o+1)*200-i<Er)}catch(i){if(this._debug(r,"error",i),S(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return p(this,null,function*(){let i=yield this._getUrlForProvider(n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),Ue()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}})}_recoverAndRefresh(){return p(this,null,function*(){var n;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=yield Dr(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&(yield this._removeSession());return}let o=Math.round(Date.now()/1e3),s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)<o+gc;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${gc}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=yield this._callRefreshToken(i.refresh_token);a&&(console.error(a),pc(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}})}_callRefreshToken(n){return p(this,null,function*(){var r,i;if(!n)throw new Qe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new vr;let{data:s,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new Qe;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(o,"error",s),S(s)){let a={session:null,error:s};return(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(n,r,i=!0){return p(this,null,function*(){let o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>p(this,null,function*(){try{yield c.callback(n,r)}catch(u){s.push(u)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(o,"end")}})}_saveSession(n){return p(this,null,function*(){this._debug("#_saveSession()",n),yield this._persistSession(n)})}_persistSession(n){return this._debug("#_persistSession()",n),dt(this.storage,this.storageKey,n)}_removeSession(){return p(this,null,function*(){this._debug("#_removeSession()"),yield Fo(this.storage,this.storageKey)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Ue()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return p(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Er);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>p(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return p(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return p(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return p(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>p(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>p(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-n)/Er);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Er}ms, refresh threshold is ${Ih} ticks`),o<=Ih&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof Ro)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return p(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Ue()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>p(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return p(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>p(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r){return p(this,null,function*(){let i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){let o=jt();yield dt(this.storage,`${this.storageKey}-code-verifier`,o);let s=yield $t(o),a=o===s?"plain":"s256";this._debug("PKCE","code verifier",`${o.substring(0,5)}...`,"code challenge",s,"method",a);let c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(r?.queryParams){let o=new URLSearchParams(r.queryParams);i.push(o.toString())}return`${this.url}/authorize?${i.join("&")}`})}_unenroll(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield A(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(S(r))return{data:null,error:r};throw r}})}_enroll(n){return p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i,o;let{data:s,error:a}=r;if(a)return{data:null,error:a};let{data:c,error:u}=yield A(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:n.friendlyName,factor_type:n.factorType,issuer:n.issuer},headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(!((o=c?.totp)===null||o===void 0)&&o.qr_code&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(r){if(S(r))return{data:null,error:r};throw r}})}_verify(n){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i;let{data:o,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:c}=yield A(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(r){if(S(r))return{data:null,error:r};throw r}}))})}_challenge(n){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){try{return yield this._useSession(r=>p(this,null,function*(){var i;let{data:o,error:s}=r;return s?{data:null,error:s}:yield A(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(S(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(n){return p(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:n.factorId});return i?{data:null,error:i}:yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return p(this,null,function*(){let{data:{user:n},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=n?.factors||[],o=i.filter(s=>s.factor_type==="totp"&&s.status==="verified");return{data:{all:i,totp:o},error:null}})}_getAuthenticatorAssuranceLevel(){return p(this,null,function*(){return this._acquireLock(-1,()=>p(this,null,function*(){return yield this._useSession(n=>p(this,null,function*(){var r,i;let{data:{session:o},error:s}=n;if(s)return{data:null,error:s};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let a=this._decodeJWT(o.access_token),c=null;a.aal&&(c=a.aal);let u=c;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(u="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}))})}}return t.nextInstanceID=0,t})();var Lo=class extends yc{constructor(e){super(e)}};var Cw=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})},Ew={headers:sh},Iw={schema:"public"},xw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Mw={},Vo=class{constructor(e,n,r){var i,o,s,a,c,u,l,d;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");let h=ch(e);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;let f=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,g={db:Iw,realtime:Mw,auth:Object.assign(Object.assign({},xw),{storageKey:f}),global:Ew},m=uh(r??{},g);this.storageKey=(o=(i=m.auth)===null||i===void 0?void 0:i.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=(s=m.global)===null||s===void 0?void 0:s.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,(u=m.global)===null||u===void 0?void 0:u.fetch),this.fetch=ah(n,this._getAccessToken.bind(this),(l=m.global)===null||l===void 0?void 0:l.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},m.realtime)),this.rest=new cr(`${h}/rest/v1`,{headers:this.headers,schema:(d=m.db)===null||d===void 0?void 0:d.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new ir(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new mr(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Cw(this,void 0,void 0,function*(){let{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:o,flowType:s,debug:a},c,u){let l={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Lo({url:this.authUrl,headers:Object.assign(Object.assign({},l),c),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:s,debug:a,fetch:u})}_initRealtimeClient(e){return new hr(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var pN=(t,e,n)=>new Vo(t,e,n);var vN={production:!1,SUPABASEURL:"https://skmptjjgpoopkorjdmus.supabase.co",SUPABASEKEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNrbXB0ampncG9vcGtvcmpkbXVzIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTY5ODY5MzAwNiwiZXhwIjoyMDE0MjY5MDA2fQ.laojp_TeTO0ZKOWSO2HSF6X7ZfxUFxBt_3Jrs781rJU"};export{K as a,Nh as b,Yo as c,Ko as d,et as e,xn as f,mt as g,he as h,Xo as i,Bh as j,Uh as k,vt as l,ze as m,Kh as n,Dt as o,Jr as p,Qh as q,Sn as r,Hc as s,Xh as t,ep as u,Tn as v,ns as w,tp as x,Qr as y,ip as z,zc as A,rs as B,op as C,sp as D,ap as E,os as F,cp as G,up as H,x as I,H as J,sM as K,M as L,N as M,se as N,q as O,kn as P,aM as Q,z as R,st as S,cM as T,uM as U,lM as V,dM as W,Gn as X,zg as Y,Bl as Z,it as _,$i as $,fM as aa,hM as ba,om as ca,sm as da,pM as ea,Ci as fa,gM as ga,zs as ha,sn as ia,mM as ja,v as ka,Ba as la,oe as ma,Se as na,hv as oa,Yi as pa,Rv as qa,Od as ra,Fd as sa,$v as ta,DM as ua,Zn as va,dn as wa,_M as xa,Yv as ya,wM as za,Qv as Aa,Rd as Ba,la as Ca,rD as Da,bM as Ea,CM as Fa,EM as Ga,xM as Ha,gD as Ia,MM as Ja,yD as Ka,SM as La,$d as Ma,fn as Na,QM as Oa,Hd as Pa,Jd as Qa,OD as Ra,XM as Sa,eS as Ta,tS as Ua,nS as Va,rS as Wa,iS as Xa,oS as Ya,sS as Za,Kd as _a,pN as $a,vN as ab,c_ as bb,pf as cb,rf as db,IS as eb,xS as fb,N_ as gb,Xn as hb,k_ as ib,SS as jb,L_ as kb,j_ as lb,B_ as mb,Ff as nb,z_ as ob,TS as pb,AS as qb,NS as rb};
